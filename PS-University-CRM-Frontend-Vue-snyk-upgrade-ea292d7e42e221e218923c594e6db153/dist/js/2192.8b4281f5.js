"use strict";(self["webpackChunkuniversity_crm"]=self["webpackChunkuniversity_crm"]||[]).push([[2192],{6942:function(i,t,n){n.d(t,{Z:function(){return f}});var e=n(3396),a=n(7139),s=n(9242);const o={class:"paginationData"},c=["disabled","onClick"],l=["innerHTML"];function r(i,t,n,r,d,g){return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("ul",o,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.paginationData?.links,(i=>((0,e.wg)(),(0,e.iD)("li",{key:i.label,class:(0,a.C_)(["page-item",{active:i.active,disabled:null===i.url}])},[(0,e._)("button",{disabled:null===i.url,class:"page-link",onClick:(0,s.iM)((t=>g.goToPage(i.url)),["prevent"])},[(0,e._)("span",{innerHTML:i.label},null,8,l)],8,c)],2)))),128))])])}var d=n(708),g={name:"PaginationData",props:{paginationData:{type:Object,required:!0},method:{type:String,default:function(){return"get"}},filters:{type:Object,default:function(){return{}}}},data(){return{}},mounted(){},methods:{async goToPage(i){if(i){let t="";t="get"==this.method?await(0,d.U2)(i):await(0,d.v_)(i,{filters:this.filters}),this.$emit("onFetch",t.message)}}}},u=n(89);const m=(0,u.Z)(g,[["render",r],["__scopeId","data-v-0f9f4ca9"]]);var f=m},2192:function(i,t,n){n.r(t),n.d(t,{default:function(){return T}});var e=n(3396),a=n(7139);const s=i=>((0,e.dD)("data-v-dbcc44f4"),i=i(),(0,e.Cn)(),i),o={class:"d-flex justify-content-between"},c=s((()=>(0,e._)("h1",{class:"heading mb-4"},"Notification",-1))),l={class:"mr-7"},r=["disabled"],d={class:"card rounded-09",id:"notifications"},g={key:0},u={class:"d-flex align-items-center"},m={key:0,class:"p-1 bg-primary border-primary rounded-circle"},f=s((()=>(0,e._)("span",{class:"visually-hidden"},"New alerts",-1))),A=[f],b={key:1,class:"m-1"},h=["onClick"],p={width:"40",height:"40",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"},v=["fill"],w={class:"subject-n-message d-flex justify-content-between"},y={class:"mr-3 mb-2 mt-3"},k={class:"fw-bold"},S=["innerHTML"],x={class:"m-3"},R={key:1},j={class:"emptyNotification d-flex justify-content-between flex-column"},I=["src"],C=s((()=>(0,e._)("p",{class:"text-center text-gray emptyText"},"No New Notifications",-1)));function E(i,t,s,f,E,D){const J=(0,e.up)("PaginationData");return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",o,[c,(0,e._)("div",l,[(0,e._)("button",{class:"clearAll btn btn-large px-4 fw-500",onClick:t[0]||(t[0]=i=>D.clearNotifications()),disabled:0==E.notifications?.data?.length},"Clear All Notifications",8,r)])]),(0,e._)("div",d,[E.notifications?.data?.length>0?((0,e.wg)(),(0,e.iD)("div",g,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(E.notifications?.data,(i=>((0,e.wg)(),(0,e.iD)("div",{key:i.id,class:(0,a.C_)([{active:"0"==i?.highschool_viewed},"card-body border-bottom d-flex align-items-center justify-content-between"])},[(0,e._)("div",u,[0==i.viewed?((0,e.wg)(),(0,e.iD)("span",m,A)):((0,e.wg)(),(0,e.iD)("div",b)),(0,e._)("div",{onClick:t=>D.markAsRead(i,t),style:{"border-radius":"50%",padding:"20px",background:"white"},class:"mx-3"},[((0,e.wg)(),(0,e.iD)("svg",p,[(0,e._)("path",{style:{"pointer-events":"none"},fill:"0"==i.viewed?"#fac515":"#bbb",d:"M410.9,0H85.1C72.3,0,61.8,10.4,61.8,23.3V512L248,325.8L434.2,512V23.3C434.2,10.4,423.8,0,410.9,0z"},null,8,v)]))],8,h),(0,e._)("div",w,[(0,e._)("div",y,[(0,e._)("h4",k,(0,a.zw)(i.title),1),(0,e._)("div",{innerHTML:i.description},null,8,S)])])]),(0,e._)("span",x,(0,a.zw)(i.created_at),1)],2)))),128))])):((0,e.wg)(),(0,e.iD)("div",R,[(0,e._)("div",j,[(0,e._)("img",{class:"w-10",src:n(831),alt:"empty Notification"},null,8,I),C])])),(0,e.Wm)(J,{paginationData:E.notifications,onOnFetch:t[1]||(t[1]=i=>D.onFetchFunc(i))},null,8,["paginationData"])])])}var D=n(6942),J=n(708),Q={name:"NotificationScreen",data(){return{notifications:{},notifyKey:0}},components:{PaginationData:D.Z},methods:{async markAsRead(i,t){const n=t.currentTarget.querySelector("path");if("0"===i.viewed){let t=await(0,J.v_)("api/notifications/mark_as_read",{notification_id:i.id,owner_type:"highschool"},!1);t?.message&&(n.setAttribute("transform","scale(-1, 1)"),n.setAttribute("transform-origin","center"),this.$globals.notification.total_unread-=1,i.viewed="1")}},clearNotifications(){this.$globals.notification=[]},async onFetchFunc(i){console.log(i),this.$globals.notification.message=i}},watch:{"$globals.notification"(){this.notifications=this.$globals.notification?.message},"$globals.notification.message"(){this.notifications=this.$globals.notification?.message}},mounted(){this.notifications=this.$globals.notification?.message}},B=n(89);const H=(0,B.Z)(Q,[["render",E],["__scopeId","data-v-dbcc44f4"]]);var T=H},831:function(i){i.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=2192.8b4281f5.js.map