{"version":3,"file":"js/9509.6835db37.js","mappings":"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","sources":["webpack://university_crm/./src/views/settings/Configurations.vue","webpack://university_crm/./src/views/settings/Configurations.vue?10cc"],"sourcesContent":["<template>\r\n  <div class=\"row w-90 mx-auto\">\r\n    <div class=\"px-4 py-3\">\r\n      <div>\r\n        <div>\r\n          <DropDown @change=\"fetchLetter\" v-model=\"letterType\" class=\"w-50\" :options=\"lettersType\" optionLabel=\"name\" optionValue=\"value\" />        \r\n        </div>\r\n        <b class=\"me-2\">Variables: </b>\r\n        <code>{full_name}, \r\n              {program_name},\r\n              {program_code},\r\n              {program_type},\r\n              {program_award},\r\n              {program_faculty},\r\n              {study_type},\r\n              {study_language},\r\n              {program_duration},\r\n              {program_ECTS},\r\n              {learning_mode},\r\n              {application_fee_amount}         \r\n              {tuition_fee_amount}         \r\n              </code>        \r\n        <div class=\"bg-white\">\r\n          <ckeditor :editor=\"editor\" v-model=\"editorData\" @ready=\"onReady\" :config=\"editorConfig\"></ckeditor>\r\n        </div>\r\n        <!-- <EditorComponent v-model=\"acceptanceLetter\" editorStyle=\"height: 320px\" ></EditorComponent> -->\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-end mt-5\">\r\n      <button @click=\"saveLetter\" class=\"px-5 py-2 btn save\">Save Changes</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { postFormData,get,post } from '@/api/client';\r\n/* import ClassicEditor from '@ckeditor/ckeditor5-build-classic'; */\r\nimport DocumentEditor from '@ckeditor/ckeditor5-build-decoupled-document';\r\nimport { showModal } from '@/plugins/modal';\r\nexport default {\r\n  name: \"GeneralSettings\",\r\n\r\n  data() {\r\n    return {\r\n      letterType:'',\r\n      lettersType:[        \r\n        {name:'Acceptance Letter',value:'acceptance_letter'},\r\n        {name:'Conditional Letter',value:'conditional_letter'},\r\n        {name:'Rejection Letter',value:'rejection_letter'},\r\n      ],\r\n      editor: DocumentEditor,\r\n      editorData: '',\r\n      editorConfig: {        \r\n        height:400, \r\n        fontSize: {\r\n          options: [\r\n            9,10,11,12,13,14,15,16,17,            \r\n            18,\r\n            24,\r\n            36,\r\n            { model: '48px', title: 'Huge', class: 'ck-heading_font-size_huge' },\r\n          ],\r\n        },\r\n        ckfinder: {         \r\n     \r\n        },\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchLetter(){\r\n        let res = await get('configuration/'+this.letterType);\r\n        if(res?.message){          \r\n          this.editorData = res.message.value;\r\n         // this.editor = DocumentEditor\r\n        }\r\n    },\r\n    async saveLetter(){\r\n      if(this.letterType ==''){\r\n        showModal({text:'Select a letter type'})\r\n        return false\r\n      }\r\n      let wait = await showModal({text:\"Are you sure you want to save\",confirmText:'Yes',cancelText:'No'})\r\n      if(!wait) return false;\r\n        let res = await post('configuration/save',{\r\n          value:this.editorData,\r\n          name:this.letterType\r\n        },);\r\n        if(res?.message){\r\n          showModal({text:res.message})\r\n        }\r\n    },\r\n    onReady(editor) {\r\n      // Insert the toolbar before the editable area.\r\n      editor.ui.getEditableElement().parentElement.insertBefore(\r\n        editor.ui.view.toolbar.element,\r\n        editor.ui.getEditableElement(),\r\n        editor.plugins.get('FileRepository').createUploadAdapter = (loader)=>{\r\n          return new MyUploadAdapter(loader)\r\n        }        \r\n      );\r\n      const toolbarOptions = editor.config.get('toolbar');\r\n      toolbarOptions.push('indent');\r\n      toolbarOptions.push('outdent');\r\n      toolbarOptions.push('styles');\r\n      editor.ui.view.toolbar.update(); \r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n};\r\n\r\nclass MyUploadAdapter {\r\n  constructor( loader ) {\r\n        // The file loader instance to use during the upload.\r\n        this.loader = loader;\r\n    }\r\n\r\n  async upload() {      \r\n      const formData = new FormData();\r\n      return this.loader.file.then(async (file) => {\r\n        formData.append(\"file\", file);\r\n        formData.append(\"folder_name\", \"Programs\");\r\n        let res = await postFormData('file_upload',formData, true)        \r\n        return {default:res.responseBody};\r\n      }) \r\n      \r\n        /* formData.append(\"file\", this.loader.file);\r\n        formData.append(\"folder_name\", \"Programs\");\r\n        let res = await postFormData('file_upload',formData, true)        \r\n        return res       */\r\n    }\r\n    } \r\n\r\n</script>\r\n\r\n<style>\r\n.heading {\r\n  margin-top: 30px;\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 24px;\r\n  line-height: 20px;\r\n}\r\n\r\n.save {\r\n  background: #e5e7eb;\r\n  transition: background 0.3s ease-in;\r\n}\r\n\r\n.save:hover {\r\n  background: #eff0f3;\r\n}\r\n\r\n.line {\r\n  background: orange;\r\n  width: 939px;\r\n  border: 1px solid #f79009;\r\n}\r\n\r\n.dropdown-sub {\r\n  margin-top: -15px;\r\n}\r\n\r\n.sub {\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 24px;\r\n  line-height: 32px;\r\n}\r\n\r\n.sub1 {\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 24px;\r\n  line-height: 20px;\r\n}\r\n\r\n.sub2 {\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 12px;\r\n  line-height: 20px;\r\n}\r\n\r\n.arrow {\r\n  margin-top: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.tick {\r\n  margin-left: 40px;\r\n  margin-top: -10px;\r\n}\r\n\r\n/* .arrow:hover {\r\n  background: rgb(254, 167, 5);\r\n  width: 100%;\r\n  border-radius: 50%;\r\n} */\r\n.dropdown-content {\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n}\r\n\r\nbutton {\r\n  outline: none;\r\n}\r\n.ck-editor__editable_inline {\r\n    height: 300px;    \r\n}\r\n</style>","import { render } from \"./Configurations.vue?vue&type=template&id=5be8d063\"\nimport script from \"./Configurations.vue?vue&type=script&lang=js\"\nexport * from \"./Configurations.vue?vue&type=script&lang=js\"\n\nimport \"./Configurations.vue?vue&type=style&index=0&id=5be8d063&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_DropDown","onChange","$options","fetchLetter","$data","letterType","$event","options","lettersType","optionLabel","optionValue","_hoisted_3","_hoisted_4","_hoisted_5","_component_ckeditor","editor","editorData","onReady","config","editorConfig","_hoisted_6","onClick","_cache","args","saveLetter","name","data","value","DocumentEditor","height","fontSize","model","title","ckfinder","methods","res","get","this","message","showModal","text","wait","confirmText","cancelText","post","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","plugins","createUploadAdapter","loader","MyUploadAdapter","toolbarOptions","push","update","mounted","constructor","upload","formData","FormData","file","then","async","append","postFormData","default","responseBody","__exports__","render"],"sourceRoot":""}