{"version":3,"file":"js/983.d81d272b.js","mappings":"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","sources":["webpack://university_crm/./src/views/chats/viewChats.vue","webpack://university_crm/./src/components/Global/DotDot.vue","webpack://university_crm/./src/components/Global/DotDot.vue?6cdd","webpack://university_crm/./src/views/chats/viewChats.vue?74ee"],"sourcesContent":["<template>\r\n  <div class=\"position-relative\">\r\n    <div class=\"outsideEditor\">\r\n      <div id=\"toBar\" style=\"position: absolute; z-index: 2\" class=\"bg-light shadow-sm w-100 px-4 pt-2\">\r\n        <h6 class=\"text-dark w-100\">{{ selectedChatInfo.full_name }}                \r\n          <!-- <i class=\"icon-refresh rotating\"></i> -->\r\n          <!-- <span tabindex=\"0\" id=\"reload-btn\" :class=\"{ rotate: rotateReload }\" @click=\"handleReloadClick\">&#x21bb;</span> -->\r\n          <span class=\"ms-2 text-secondary\" v-if=\"isTyping\">is typing</span>\r\n        </h6>\r\n      </div>\r\n      <div ref=\"chatContainer\" class=\"overflow\" style=\"overflow-y: auto; height: 87vh;padding-bottom:160px;\">\r\n        <br />\r\n        <TransitionGroup name=\"list\" tag=\"div\" class=\"chat-container \">\r\n          <div v-for=\"(message, index) in all_message\" :key=\"index\">\r\n            <div v-if=\"shouldRenderDivider(index)\" class=\"line-middle position-relative my-3\">\r\n              <div class=\"display-inline-block px-3 d-flex py-2 badge rounded-pill bg-white\" style=\"border: 1px solid #ccc\">\r\n                <span class=\"time\">{{\r\n                  formatDateAndPreviousDay(message.created_at, index).currentDay\r\n                }}</span>\r\n              </div>\r\n            </div>     \r\n            <div class=\"d-flex gutter-x\">\r\n              <div v-if=\"shouldRenderImage(index,shouldRenderDivider(index))\" class=\"me-2\">\r\n                <img class=\"image\" :src=\"message.user_type !== 'highSchoolEmployee'\r\n                      ? selectedChatInfo.photo_url\r\n                      : user.profile_photo_url\r\n                    \" />\r\n              </div>\r\n              <div v-else  class=\"me-2\" style=\"width:36px;\"></div>\r\n              <div>\r\n                <div>\r\n                  <div style=\"margin-top: -5px;\">\r\n                    <b class=\"me-2 tName\" >{{getName(message)}}</b>\r\n                    <span class=\"time\">{{ message.time_at }}</span>\r\n                  </div>\r\n                  <p style=\"font-size:14px;\" v-html=\"message.message\"></p>\r\n                  <p v-if=\"message.attachement\">\r\n                    <img :src=\"message.attachement\" alt=\"attachment\" />\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </TransitionGroup>\r\n        <!-- Add more messages here -->\r\n      </div>\r\n    </div>\r\n    <div class=\"row w-100\" style=\"position: absolute; bottom: 8px; transition: bottom 0.3s cubic-bezier(0.55, 0.53, 0.68, 1.26) 0s;\">    \r\n      <div id=\"text-container\" class=\"col-md-8 offset-md-2\" :class=\"{ 'message-input-container': showInput }\">\r\n        <div class=\"message-input-wrapper\">\r\n          <div class=\"input-area\">       \r\n            <div class=\"position-relative w-100\" style=\"bottom:-;\">         \r\n              <Editor ref=\"editor\" v-model=\"message\" @keyup=\"sendIsTypingEvent\" class=\"message-editor\"\r\n                :editorStyle=\"'max-height:'+editorHeight+'px;width:100%' \" placeholder=\"Type a message\" >\r\n                <template v-slot:toolbar>\r\n                    <div class=\"ql-toolbar\">\r\n                      <span class=\"ql-formats\">\r\n                        <button class=\"ql-bold\"></button>\r\n                        <button class=\"ql-italic\"></button>\r\n                        <button class=\"ql-underline\"></button>\r\n                        <button class=\"ql-strike\"></button>\r\n                      </span>\r\n                      <span class=\"ql-formats\">                   \r\n                        <button class=\"ql-blockquote\"></button>\r\n                        <button class=\"ql-code-block\"></button>\r\n                        <button class=\"ql-list\" value=\"ordered\"></button>\r\n                        <button class=\"ql-list\" value=\"bullet\"></button>\r\n                        <button class=\"ql-script\" value=\"sub\"></button>\r\n                        <button class=\"ql-script\" value=\"super\"></button>\r\n                        <button class=\"ql-clean\"></button>\r\n                      </span>\r\n                      <label class=\"file-label\">\r\n                        <input style=\"cursor:pointer\" type=\"file\" @change=\"onAdvancedUpload($event)\" class=\"file-input\" />\r\n                        <span class=\"file-button\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" style=\"width:20px\" viewBox=\"0 0 100 100\" id=\"attachment\"><path fill=\"#555\" d=\"M18.8 85.1c-7.8-7.8-7.8-20.5 0-28.3L63.1 13c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8L38.6 76.7c-3.1 3.1-8.2 3.1-11.3 0-3.1-3.1-3.1-8.2 0-11.3l22.3-21.8c.8-.8 2.1-.8 2.8 0 .8.8.8 2.1 0 2.8L30.2 68.2c-1.5 1.5-1.5 4.1 0 5.6 1.6 1.6 4.1 1.6 5.7 0L80.2 30c3.9-3.9 3.9-10.2 0-14.1-3.9-3.9-10.2-3.9-14.1 0L21.7 59.7c-6.2 6.2-6.2 16.4 0 22.6 6.3 6.2 16.4 6.2 22.6 0l38.3-37.8c.8-.8 2.1-.8 2.8 0 .8.8.8 2.1 0 2.8L47.1 85.2c-7.8 7.7-20.4 7.8-28.3-.1z\"></path><path fill=\"#fff\" d=\"M664-510v1684h-1784V-510H664m8-8h-1800v1700H672V-518z\"></path></svg></span> \r\n                      </label>\r\n                    </div>\r\n                  </template>\r\n                </Editor>\r\n              <div id=\"bottomPanel\" style=\"position:absolute;bottom: 1px;right: 6px; padding: 5px;\" class=\"px-3\">            \r\n                  <button v-if=\"!sending\" @click=\"send\" style=\"float:right\" class=\"btn btn-success btn-sm py-0\">\r\n                    <img v-svg-inline style=\"width:26px;fill:white; pointer-events: none;\" :src=\"require('@/assets/images/send-icon.svg')\">\r\n                  </button>          \r\n                  <DotDot v-else />                   \r\n              </div>\r\n            </div>\r\n          </div>        \r\n        </div>\r\n      </div>      \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { get, post,postFormData } from \"@/api/client\";\r\n//import { showToast } from \"@/plugins/modal\";\r\n//import { useChatsStore } from \"@/stores/chats\";\r\nimport Quill from 'quill';\r\nimport DotDot from '@/components/Global/DotDot.vue';\r\n// Define the custom blot class\r\nconst CustomFileBlot = Quill.import('formats/link');\r\n\r\nclass CustomFile extends CustomFileBlot {\r\n  static create(value) {\r\n    const node = super.create(value);\r\n    node.setAttribute('target', '_blank');\r\n    node.setAttribute('rel', 'noopener noreferrer');\r\n    \r\n    const fileType = value.toLowerCase().split('.').pop();\r\n    \r\n    if (['jpg', 'jpeg', 'gif', 'png'].includes(fileType)) {\r\n      const img = document.createElement('img');\r\n      img.src = value;\r\n      img.alt = 'Image';\r\n      img.style.width = '110px';\r\n      node.appendChild(img);\r\n    } else {\r\n      node.innerHTML = '&#128196;'; // HTML entity code for a file icon\r\n      node.style.fontSize = '4em';\r\n      node.style.background = 'repeating-linear-gradient(45deg, black, transparent 100px)';\r\n      node.style.borderRadius = '5px';\r\n    }\r\n\r\n    return node;\r\n  }\r\n  static formats(node) {\r\n    // Disable editing for the customFile format\r\n    return { customFile: node.innerHTML };\r\n  }\r\n}\r\nCustomFile.blotName = 'customFile';\r\nCustomFile.tagName = 'A';\r\n\r\n// Register the custom blot class\r\nQuill.register(CustomFile, true);\r\nimport Editor from \"primevue/editor\";\r\n\r\nexport default {\r\n  name: \"ViewMail\",\r\n  components: { Editor,DotDot},\r\n  data() {\r\n    return {\r\n      sending:false,\r\n      editorHeight:200,\r\n      selectedEmails: [],\r\n      emails: [],\r\n      all_message: {},\r\n      selectedChatInfo: {},\r\n      rotateReload: false,\r\n      showToolbar:false,\r\n      message: \"\",\r\n      showInput: false,\r\n      someFiles: [],\r\n      attchments: [],\r\n      user: JSON.parse(localStorage.getItem(\"userInfo\")),\r\n      isTyping: false,\r\n      channel: null,\r\n      Echo: null,\r\n      uploadUrl:'',   \r\n      customHeaders: {\r\n        Authorization: 'Bearer '+ localStorage.getItem('user'),        \r\n      }\r\n    };\r\n  },\r\n  async created() {\r\n    this.updateMessages();\r\n    \r\n  },\r\n  beforeRouteLeave(to, from, next) {            \r\n    window.Echo.leave(this.channelName())        \r\n    next();\r\n  },\r\n  mounted() {       \r\n    window.receiverChannel = window.Echo.private(this.channelName()); \r\n    //window.myChannel = window.Echo.private('chat.highSchoolEmployee-'+this.user.high_school_id); \r\n    window.receiverChannel   \r\n    .listen(\".new-message\", this.handleMessage)\r\n    .listenForWhisper(\"typing\", this.handleIsTyping);\r\n    //const $this = this;\r\n    this.$nextTick(() => {\r\n\r\n      setTimeout(()=>{      \r\n        this.toggleToolbar(false)         \r\n        const editorToolbar = document.querySelector('.p-editor-toolbar.ql-toolbar.ql-snow');      \r\n        const editorContainer = document.querySelector('.p-editor-content.ql-container.ql-snow');      \r\n        const bottomPanel = document.querySelector('#bottomPanel');              \r\n        if ( editorToolbar) {          \r\n          editorContainer.appendChild(bottomPanel);\r\n        }\r\n        const container = document.getElementById(\"text-container\");\r\n        const editorQl = document.querySelector(\".ql-editor\");\r\n        const outsideEditor = document.querySelector('.outsideEditor');\r\n        outsideEditor.addEventListener(\"click\", () => {\r\n          editorQl.style.maxHeight = '40px';\r\n          this.toggleToolbar(false)\r\n        });\r\n        container.addEventListener(\"click\", () => {\r\n          editorQl.style.maxHeight = '150px';\r\n          this.toggleToolbar(true)\r\n        });\r\n      },2000)\r\n\r\n    });\r\n  },\r\n  methods: {  \r\n    toggleToolbar(state) {\r\n      this.showToolbar = state;\r\n      const toolbar = document.querySelector(\".p-editor-toolbar.ql-toolbar.ql-snow\")\r\n      toolbar.style.display = this.showToolbar ? 'block' : 'none';\r\n    },\r\n    async onAdvancedUpload(event){      \r\n        const file = event.target.files[0];\r\n        const formdata = new FormData();\r\n        formdata.append('file', file);\r\n        formdata.append('folder_name', 'chatsFiles');\r\n        const imgUpload = await postFormData('file_upload', formdata);\r\n        const editor = this.$refs.editor.quill;\r\n        const range = editor.getSelection(true); \r\n        editor.format('customFile', imgUpload.responseBody);\r\n        editor.setSelection(range.index + 1);\r\n    }, \r\n    channelName(){\r\n    /*   return `chat.${(this.selectedChatInfo.user_type!=='admin')?\r\n        this.selectedChatInfo.user_type+'-'+this.selectedChatInfo.sender_id\r\n        :this.selectedChatInfo.chat_code }` */\r\n        return `chat.${this.selectedChatInfo.chat_code }`\r\n    },    \r\n    shouldRenderDivider(loopIndex) {\r\n      if (loopIndex === 0) {\r\n        return true; // Always render for the first loop\r\n      } else {\r\n        // Check if previous day is different from current day\r\n        const prevDay = this.formatDateAndPreviousDay(\r\n          this.all_message[loopIndex - 1].created_at,\r\n          loopIndex - 1\r\n        ).currentDay;\r\n        const currentDay = this.formatDateAndPreviousDay(\r\n          this.all_message[loopIndex].created_at,\r\n          loopIndex\r\n        ).currentDay;\r\n        return prevDay !== currentDay;\r\n      }\r\n    },\r\n    shouldRenderImage(loopIndex,newDivider){      \r\n      if (loopIndex === 0) {\r\n        return true; // Always render for the first loop\r\n      } else {\r\n        // Check if previous day is different from current day\r\n        if(newDivider){\r\n          return true\r\n        }\r\n        const prevUser =   this.all_message[loopIndex - 1].user_type\r\n        const currentUser =   this.all_message[loopIndex].user_type\r\n        \r\n        return prevUser !== currentUser;\r\n      }\r\n    \r\n    },\r\n    formatDateAndPreviousDay(dateStr, loopIndex) {\r\n      const months = [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"December\",\r\n      ];\r\n\r\n      const date = new Date(dateStr);\r\n\r\n      // Get the current day in the specified format: \"Thursday, January 3rd\"\r\n      const currentDay = `${this.getDayOfWeek(date)}, ${months[date.getMonth()]\r\n        } ${this.getDayWithSuffix(date.getDate())}`;\r\n\r\n      // Calculate the previous day based on the loop index\r\n      const previousDate = new Date(date);\r\n      previousDate.setDate(date.getDate() - loopIndex);\r\n\r\n      let previousDay = \"\";\r\n      if (loopIndex > 0) {\r\n        previousDay = `${this.getDayOfWeek(previousDate)}, ${months[previousDate.getMonth()]\r\n          } ${this.getDayWithSuffix(previousDate.getDate())}`;\r\n      }\r\n\r\n      return { currentDay, previousDay };\r\n    },\r\n\r\n    getDayOfWeek(date) {\r\n      const days = [\r\n        \"Sunday\",\r\n        \"Monday\",\r\n        \"Tuesday\",\r\n        \"Wednesday\",\r\n        \"Thursday\",\r\n        \"Friday\",\r\n        \"Saturday\",\r\n      ];\r\n      return days[date.getDay()];\r\n    },\r\n\r\n    getDayWithSuffix(day) {\r\n      if (day >= 11 && day <= 13) {\r\n        return `${day}th`;\r\n      }\r\n      switch (day % 10) {\r\n        case 1:\r\n          return `${day}st`;\r\n        case 2:\r\n          return `${day}nd`;\r\n        case 3:\r\n          return `${day}rd`;\r\n        default:\r\n          return `${day}th`;\r\n      }\r\n    },\r\n    handleMessage(data) {                  \r\n        if(data.sender_type !=='universityEmployee'){\r\n          this.all_message.push(data);\r\n        }\r\n        setTimeout(() => {\r\n          this.scrollToBottom();\r\n        }, 50);   \r\n      // Handle the received message data\r\n    },   \r\n    async send() {\r\n      if(this.message ==''){\r\n        return false;   \r\n      } \r\n      this.sending = true\r\n      const res = await post('chat/send',{             \r\n               receiver_id: this.selectedChatInfo.sender_id,\r\n               receiver_type: this.selectedChatInfo.user_type,             \r\n               message:this.message,\r\n               chat_code:this.selectedChatInfo?.chat_code\r\n             })      \r\n             \r\n             if(res?.message){                          \r\n              if(res?.message == 'chat closed'){\r\n                this.$router.push('/chats')\r\n              }\r\n              this.all_message.push(res.messageData)\r\n              //showToast(res.message)    \r\n              this.message = ''        \r\n             // window.receiverChannel.whisper(\"new-message\",res.messageData);              \r\n               // this.updateMessages()              \r\n             }\r\n             this.sending = false\r\n    },\r\n    scrollToBottom() {\r\n      const chatContainer = this.$refs.chatContainer;\r\n      if(chatContainer){\r\n        chatContainer.scrollTop = chatContainer?.scrollHeight;\r\n      }\r\n    },\r\n  \r\n    async updateMessages() { \r\n      //  let chats = [];\r\n   \r\n        this.selectedChatInfo = JSON.parse(localStorage.getItem('chatInfo'))\r\n      /*   chats = JSON.parse(localStorage.getItem('chats'))\r\n        this.emails = chats.map((item)=>{\r\n            return { \r\n              receiver_id: item.sender_id,\r\n              receiver_email: item.sender_email,\r\n              user_type: item.user_type,\r\n            }         \r\n          })    */             \r\n        let res = await get(`chats?chat_code=${this.selectedChatInfo.chat_code}`,);\r\n        this.all_message = res.message;\r\n        setTimeout(() => {\r\n          this.scrollToBottom();\r\n        }, 50);\r\n        return true;\r\n      },\r\n    messageClass(message) {\r\n      if (message.user_type == \"admin\") {\r\n        return \"message receiver\";\r\n      } else {\r\n        return \"message sender\";\r\n      }\r\n    },\r\n\r\n    sendIsTypingEvent() {\r\n      window.receiverChannel.whisper(\"typing\",JSON.stringify({typing:true}));\r\n    },\r\n    handleIsTyping() {      \r\n      this.isTyping = true;\r\n      setTimeout(() => {\r\n        this.isTyping = false;\r\n      }, 4000);      \r\n    },\r\n    getName(message){\r\n      return   message.user_type == \"universityEmployee\"\r\n                    ?this.user?.first_name + ' '+this.user?.last_name \r\n                    : message.user_type == 'admin'?\r\n                    'Paramount Support'\r\n                    : this.selectedChatInfo.full_name\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.chat-container {\r\n  padding: 10px;\r\n}\r\n\r\n.message {\r\n  padding: 8px;\r\n  align-items: flex-end;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.sender {\r\n  background: white;\r\n  border-top: 2px solid #cacfc7;\r\n  border-bottom: 2px solid #cacfc7;\r\n}\r\n\r\n.receiver {\r\n  justify-content: flex-start;\r\n  position: relative;\r\n}\r\n\r\n.message.receiver::after {\r\n  content: \"You\";\r\n  /* Additional styles for the pseudo-element */\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 10px;\r\n  font-size: 12px;\r\n  color: #888;\r\n}\r\n\r\n.message.sender::after {\r\n  content: v-bind(\"selectedChatInfo.user_type\");\r\n  /* Additional styles for the pseudo-element */\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 10px;\r\n  font-size: 12px;\r\n  color: #888;\r\n}\r\n\r\n.content {\r\n  background-color: #dcf8c6;\r\n  color: #000;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  max-width: 70%;\r\n}\r\n\r\n.time {\r\n  font-size: 12px;\r\n  color: #616061;  \r\n}\r\n\r\n.chat-drop-enter-active,\r\n.chat-drop-leave-active {\r\n  transition: all 0.5s;\r\n}\r\n\r\n.chat-drop-enter,\r\n.chat-drop-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(-20px);\r\n}\r\n\r\n.chat-message {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.list-enter-active,\r\n.list-leave-active {\r\n  transition: all 0.4s ease;\r\n}\r\n\r\n.list-enter-from,\r\n.list-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(30px);\r\n}\r\n\r\n#reload-btn {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n}\r\n\r\n.rotate {\r\n  animation: rotating 1s linear infinite;\r\n  -webkit-animation: rotating 1s linear infinite;\r\n}\r\n\r\n@keyframes rotating {\r\n  0% {\r\n    transform: rotate(0deg);\r\n    -webkit-transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n    -webkit-transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* Add your existing CSS styles here */\r\n\r\n.input-area {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.attachment-area {\r\n  margin-right: 10px;\r\n}\r\n\r\n.attachment-button {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background-color: #ffffff;\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.message-editor {\r\n  flex: 1;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  height: 150px;\r\n}\r\n\r\n.send-button {\r\n  width: 80px;\r\n  height: 40px;\r\n  border: none;\r\n  background-color: #4caf50;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.slide-up-enter-active,\r\n.slide-up-leave-active {\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.message-input-container {\r\n  bottom: -10% !important;\r\n}\r\n\r\n.message-input-wrapper {  \r\n  border-radius: 5px 5px;\r\n}\r\n\r\n.line-middle {\r\n  display: flex;\r\n  justify-content: center;\r\n  z-index: 0;\r\n}\r\n\r\n.line-middle:after {\r\n  content: \"\";\r\n  width: 100%;\r\n  height: 1px;\r\n  background: #ccc;\r\n  position: absolute;\r\n  bottom: 50%;\r\n  left: 0;\r\n  z-index: -1;\r\n}\r\n.tName{\r\n  font-size:15px;\r\n  font-weight: 900;\r\n}\r\n.gutter-x{\r\n  padding: 8px 20px;\r\n}\r\n\r\n\r\n.image {\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n    display: inline-block;\r\n    border-radius: 4px;\r\n    width: 36px; \r\n    height: 36px;\r\n}\r\n.col.mt-6.py-5.container-fluid {\r\n    padding: 0px !important;\r\n}\r\n.p-editor-toolbar.ql-toolbar.ql-snow {\r\n    background: white;\r\n}\r\n.file-label {\r\n  display: inline;\r\n  position: relative;\r\n  overflow: hidden;    \r\n  border-radius: 5px;\r\n  padding:2px;\r\n  border-radius: 4px;\r\n  color: #FFF;  \r\n  cursor: pointer;\r\n  \r\n}\r\n\r\n.file-input {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.ql-editor{\r\n  height:auto !important;\r\n  max-height: 150px;\r\n}\r\n.ql-container{\r\n  height:auto !important;\r\n  max-height: 150px;\r\n}\r\n.message-editor {\r\n  height:auto !important;\r\n}\r\n</style>\r\n","<template >\r\n    <div style=\"display:inline-block\">\r\n        <div class=\"snippet\" data-title=\"dot-elastic\">\r\n            <div class=\"stage\">\r\n                <div class=\"dot-elastic\"></div>\r\n            </div>\r\n        </div>      \r\n    </div>\r\n</template>\r\n<script>\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.dot-elastic {\r\n  position: relative;\r\n  width: 10px;\r\n  height: 10px;\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n  background-color: #ffc05b;\r\n  color: #ffc05b;\r\n  animation: dot-elastic 1s infinite linear;\r\n}\r\n.dot-elastic::before, .dot-elastic::after {\r\n  content: \"\";\r\n  display: inline-block;\r\n  position: absolute;\r\n  top: 0;\r\n}\r\n.dot-elastic::before {\r\n  left: -15px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 5px; \r\n  background-color:  #ffc05b;\r\n  color:  #ffc05b;\r\n  animation: dot-elastic-before 1s infinite linear;\r\n}\r\n.dot-elastic::after {\r\n  left: 15px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 5px;\r\n  background-color:  #ffc05b;\r\n  color:  #ffc05b;\r\n  animation: dot-elastic-after 1s infinite linear;\r\n}\r\n\r\n@keyframes dot-elastic-before {\r\n  0% {\r\n    transform: scale(1, 1);\r\n  }\r\n  25% {\r\n    transform: scale(1, 1.5);\r\n  }\r\n  50% {\r\n    transform: scale(1, 0.67);\r\n  }\r\n  75% {\r\n    transform: scale(1, 1);\r\n  }\r\n  100% {\r\n    transform: scale(1, 1);\r\n  }\r\n}\r\n@keyframes dot-elastic {\r\n  0% {\r\n    transform: scale(1, 1);\r\n  }\r\n  25% {\r\n    transform: scale(1, 1);\r\n  }\r\n  50% {\r\n    transform: scale(1, 1.5);\r\n  }\r\n  75% {\r\n    transform: scale(1, 1);\r\n  }\r\n  100% {\r\n    transform: scale(1, 1);\r\n  }\r\n}\r\n@keyframes dot-elastic-after {\r\n  0% {\r\n    transform: scale(1, 1);\r\n  }\r\n  25% {\r\n    transform: scale(1, 1);\r\n  }\r\n  50% {\r\n    transform: scale(1, 0.67);\r\n  }\r\n  75% {\r\n    transform: scale(1, 1.5);\r\n  }\r\n  100% {\r\n    transform: scale(1, 1);\r\n  }\r\n}\r\n</style>","import { render } from \"./DotDot.vue?vue&type=template&id=564ed8ce&scoped=true\"\nconst script = {}\n\nimport \"./DotDot.vue?vue&type=style&index=0&id=564ed8ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-564ed8ce\"]])\n\nexport default __exports__","import { render } from \"./viewChats.vue?vue&type=template&id=363dca04\"\nimport script from \"./viewChats.vue?vue&type=script&lang=js\"\nexport * from \"./viewChats.vue?vue&type=script&lang=js\"\n\nimport \"./viewChats.vue?vue&type=style&index=0&id=363dca04&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","style","ref","_createElementVNode","value","xmlns","width","viewBox","fill","d","_hoisted_31","_hoisted_32","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","selectedChatInfo","full_name","isTyping","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_TransitionGroup","name","tag","_Fragment","_renderList","all_message","message","index","key","$options","shouldRenderDivider","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","formatDateAndPreviousDay","created_at","currentDay","_hoisted_11","shouldRenderImage","_hoisted_12","src","user_type","photo_url","user","profile_photo_url","_hoisted_14","_hoisted_15","_hoisted_16","getName","_hoisted_17","time_at","innerHTML","attachement","_hoisted_19","alt","_hoisted_21","_normalizeClass","showInput","_hoisted_22","_hoisted_23","_hoisted_24","_component_Editor","$event","onKeyup","sendIsTypingEvent","editorStyle","editorHeight","placeholder","toolbar","_withCtx","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","type","onChange","_cache","onAdvancedUpload","_hoisted_29","_hoisted_30","_hoisted_33","_hoisted_34","sending","_createBlock","_component_DotDot","onClick","args","send","require","script","__exports__","CustomFileBlot","Quill","CustomFile","create","node","super","setAttribute","fileType","toLowerCase","split","pop","includes","img","document","createElement","appendChild","fontSize","background","borderRadius","formats","customFile","blotName","tagName","__default__","components","Editor","DotDot","data","selectedEmails","emails","rotateReload","showToolbar","someFiles","attchments","JSON","parse","localStorage","getItem","channel","Echo","uploadUrl","customHeaders","Authorization","created","this","updateMessages","beforeRouteLeave","to","from","next","window","leave","channelName","mounted","receiverChannel","private","listen","handleMessage","listenForWhisper","handleIsTyping","$nextTick","setTimeout","toggleToolbar","editorToolbar","querySelector","editorContainer","bottomPanel","container","getElementById","editorQl","outsideEditor","addEventListener","maxHeight","methods","state","display","event","file","target","files","formdata","FormData","append","imgUpload","postFormData","editor","$refs","quill","range","getSelection","format","responseBody","setSelection","chat_code","loopIndex","prevDay","newDivider","prevUser","currentUser","dateStr","months","date","Date","getDayOfWeek","getMonth","getDayWithSuffix","getDate","previousDate","setDate","previousDay","days","getDay","day","sender_type","push","scrollToBottom","res","post","receiver_id","sender_id","receiver_type","$router","messageData","chatContainer","scrollTop","scrollHeight","get","messageClass","whisper","stringify","typing","first_name","last_name","render"],"sourceRoot":""}