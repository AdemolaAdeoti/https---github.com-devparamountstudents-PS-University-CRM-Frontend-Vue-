"use strict";(self["webpackChunkuniversity_crm"]=self["webpackChunkuniversity_crm"]||[]).push([[4166,3727],{4166:function(e,t,a){a.r(t),a.d(t,{default:function(){return xt}});var n=a(3396),i=a(9242),s=a(7139);const r=e=>((0,n.dD)("data-v-8c7ecdb6"),e=e(),(0,n.Cn)(),e),o={class:"row px-4"},l={class:"col-sm-6"},d=r((()=>(0,n._)("h2",{style:{"font-size":"100%"}},"Student Applications",-1))),u={class:"card"},c={class:"application-review py-3"},h={style:{width:"90%",margin:"auto"}},m=r((()=>(0,n._)("h6",{class:"font-weight-bold pt-2"},"Programme to promote",-1))),p=r((()=>(0,n._)("h6",{class:"font-weight-bold pt-2 mt-3"}," Choose a programme code ",-1))),g={class:"card pt-3 mt-4"},y={style:{width:"90%",margin:"auto"}},v=r((()=>(0,n._)("h6",{class:"font-weight-bold pt-2"},"Audience",-1))),_=r((()=>(0,n._)("p",{class:"text-dark pt-2 m-0",style:{"font-size":"13px !important"}},"Who should see your ads.",-1))),f=r((()=>(0,n._)("span",{class:"text-danger",style:{"font-size":"12px"}},"Leave empty to promote to anywhere",-1))),b={class:"mt-3"},w={class:"row mb-3"},x=r((()=>(0,n._)("div",{class:"col-sm-4"},[(0,n._)("label",{for:"location"},"Location")],-1))),S={class:"col-sm-8"},D={class:"card pt-3 mt-4 px-3"},k={class:"py-4 px-4"},P=r((()=>(0,n._)("h6",{class:"text-dark pt-2 font-weight-bold"},"Duration",-1))),E={class:"row gx-3 my-3"},L={class:"col"},M={class:"border border-2 d-flex align-items-center justify-content-between px-3 py-2",style:{"border-color":"#191c1c"}},C={class:"row w-100"},V=r((()=>(0,n._)("div",{class:"col-12 mb-2"},[(0,n._)("span",null,"Start Date")],-1))),I={class:"d-flex align-items-center justify-content-center col-12 px-1"},z=r((()=>(0,n._)("i",{style:{"font-size":"2em"},class:"ms-2 pi pi-calendar text-warning"},null,-1))),T={class:"col"},A={class:"border border-2 d-flex align-items-center justify-content-between px-3 py-2",style:{"border-color":"#191c1c"}},$={class:"row w-100"},j=r((()=>(0,n._)("div",{class:"col-12 mb-2"},[(0,n._)("span",null,"End Date")],-1))),U={class:"d-flex align-items-center justify-content-center col-12 px-1"},H=r((()=>(0,n._)("i",{style:{"font-size":"2em"},class:"ms-2 pi pi-calendar text-warning"},null,-1))),W=r((()=>(0,n._)("h6",{class:"font-weight-bold pt-1"},"Total Budget",-1))),B=r((()=>(0,n._)("p",{class:"text pt-1",style:{"font-size":"13px !important"}}," your payment will be processed n USD($) ",-1))),N=r((()=>(0,n._)("h6",{class:"font-weight-bold pt-1"},"Daily Budget",-1))),F=r((()=>(0,n._)("p",{class:"text-dark text-center pt-2",style:{"font-size":"13px !important"}}," Estimate 1k-10k reached per day ",-1))),O={class:"border border-1 border-warning d-block rounded text-center",style:{"background-color":"#fdedb6",width:"5rem",margin:"1rem auto"}},K={class:"m-0"},Y={class:"d-flex my-4"},q=r((()=>(0,n._)("label",{for:"terms",class:"ml-1 font-size-sm",style:{"font-size":"13px","margin-left":"8px"}}," By clicking make payment now, you agree to Paramount Students' Terms & conditions ",-1))),G={class:"text-center my-4"},R={class:"col-sm-6 mt-4"},X={class:"card shadow mb-3"},Z={class:"application-review py-4"},J={style:{width:"90%",margin:"auto"}},Q=r((()=>(0,n._)("h6",{class:"text-dark pt-2"},"Estimate daily Result",-1))),ee={class:"card-title text-truncate px-3 py-2 row mb-0"},te=r((()=>(0,n._)("span",{class:"text-secondary col-3 text-dark text-truncate p-0"},"People Reach:",-1))),ae={class:"col text-truncate"},ne=r((()=>(0,n._)("hr",{style:{border:"1px solid #f79009"}},null,-1))),ie=r((()=>(0,n._)("h6",{class:"text-dark pt-2"},"Payment summary",-1))),se={class:"card-title text-truncate px-3 py-3 row mb-0"},re=r((()=>(0,n._)("span",{class:"text-secondary col-6 text-dark text-truncate p-0"},"Your Promotion will run for: ",-1))),oe={class:"col text-truncate"},le={class:"card-title text-truncate px-3 py-2 row mb-0"},de=r((()=>(0,n._)("span",{class:"text-secondary col-3 text-dark text-truncate p-0"},"Total Budget:",-1))),ue={class:"col text-truncate"},ce={class:"card shadow"},he={class:"application-review py-4"},me={style:{width:"90%",margin:"auto"}},pe=r((()=>(0,n._)("h6",{class:"text-dark pt-2"},"Cart Items",-1))),ge={class:"table"},ye=r((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("td",null,"Items / (programs) "),(0,n._)("td",null,"Daily Reach"),(0,n._)("td",null,"Duration"),(0,n._)("td",null,"Cost"),(0,n._)("td")])],-1))),ve=["onClick"],_e=r((()=>(0,n._)("i",{class:"py-0 pi pi-minus"},null,-1))),fe=[_e],be=r((()=>(0,n._)("span",null,"Total Cost:",-1))),we={key:0},xe={class:"modal-custom"},Se={class:"modal-header d-flex justify-content-between bg-light"},De=r((()=>(0,n._)("b",null,"Payment gateways",-1))),ke={class:"modal-body p-4",style:{height:"100% !important"}},Pe={key:0,class:"d-flex w-100 flex-column py-2 px-4 justify-content-center align-items-center",style:{height:"86% !important"}},Ee=r((()=>(0,n._)("option",null,"Select gateway",-1))),Le=["value"],Me={key:1},Ce=r((()=>(0,n._)("div",{id:"link-authentication-element"},null,-1))),Ve=r((()=>(0,n._)("div",{id:"card-element"},null,-1))),Ie={class:"modal-custom2"},ze={class:"modal-header d-flex justify-content-between bg-light"},Te={class:"modal-body",style:{height:"100% !important"}},Ae={style:{padding:"20px"}},$e=["src"];function je(e,t,a,r,_e,je){const Ue=(0,n.up)("Dropdown"),He=(0,n.up)("MultiSelect"),We=(0,n.up)("Calendar"),Be=(0,n.up)("Slider"),Ne=(0,n.up)("sr-messages");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",l,[(0,n._)("form",{onSubmit:t[8]||(t[8]=(0,i.iM)((e=>je.makePayment()),["prevent"]))},[d,(0,n._)("div",u,[(0,n._)("div",c,[(0,n._)("div",h,[m,p,(0,n.Wm)(Ue,{style:{"border-radius":"10px"},modelValue:_e.audience.program_id,"onUpdate:modelValue":t[0]||(t[0]=e=>_e.audience.program_id=e),options:_e.programs,optionLabel:"program_name",optionValue:"id",placeholder:"Program Code",class:"w-100"},null,8,["modelValue","options"])])])]),(0,n._)("div",g,[(0,n._)("div",y,[v,_,f,(0,n._)("div",b,[(0,n._)("div",w,[x,(0,n._)("div",S,[(0,n.Wm)(He,{modelValue:_e.audience.region_ids,"onUpdate:modelValue":t[1]||(t[1]=e=>_e.audience.region_ids=e),editable:"",options:_e.regions,optionLabel:"name",optionValue:"id",placeholder:"Select a Location",class:"w-100"},null,8,["modelValue","options"])])])])])]),(0,n._)("div",D,[(0,n._)("div",k,[P,(0,n._)("div",E,[(0,n._)("div",L,[(0,n._)("div",M,[(0,n._)("div",C,[V,(0,n._)("div",I,[(0,n.Wm)(We,{modelValue:_e.audience.start_date,"onUpdate:modelValue":t[2]||(t[2]=e=>_e.audience.start_date=e)},null,8,["modelValue"]),z])])])]),(0,n._)("div",T,[(0,n._)("div",A,[(0,n._)("div",$,[j,(0,n._)("div",U,[(0,n.Wm)(We,{modelValue:_e.audience.end_date,"onUpdate:modelValue":t[3]||(t[3]=e=>_e.audience.end_date=e)},null,8,["modelValue"]),H])])])])]),W,B,(0,n._)("div",null,[N,F,(0,n._)("div",O,[(0,n._)("p",K,"$"+(0,s.zw)(je.estimatedPriceCal),1)]),(0,n.Wm)(Be,{onChange:t[4]||(t[4]=e=>je.updateTooltipPosition(e)),modelValue:_e.audience.daily_budget,"onUpdate:modelValue":t[5]||(t[5]=e=>_e.audience.daily_budget=e),class:"w-14rem",step:100,min:1e3,max:1e4},null,8,["modelValue"])])])]),(0,n._)("div",null,[(0,n._)("div",Y,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>_e.accept=e),type:"checkbox",class:"mr-2",name:"terms",id:"terms"},null,512),[[i.e8,_e.accept]]),q]),(0,n._)("div",G,[(0,n._)("a",{onClick:t[7]||(t[7]=(...e)=>je.addItem&&je.addItem(...e)),class:(0,s.C_)([{"btn-light border text-secondary uselect":!_e.accept,"btn-warning":_e.accept},"w-100 rounded btn"])}," add Item to cart ",2)])])],32)]),(0,n._)("div",R,[(0,n._)("div",X,[(0,n._)("div",Z,[(0,n._)("div",J,[Q,(0,n._)("h6",ee,[te,(0,n._)("span",ae,(0,s.zw)(this.audience.daily_budget)+"k",1)]),ne,ie,(0,n._)("h6",se,[re,(0,n._)("span",oe,(0,s.zw)(je.numberOfDays)+" days",1)]),(0,n._)("h6",le,[de,(0,n._)("span",ue,"$ "+(0,s.zw)(je.numberOfDays*je.estimatedPriceCal),1)])])])]),(0,n._)("div",ce,[(0,n._)("div",he,[(0,n._)("div",me,[pe,(0,n._)("table",ge,[ye,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_e.carts,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("td",null,(0,s.zw)(je.programeName(e.program_id)),1),(0,n._)("td",null,(0,s.zw)(e.daily_budget),1),(0,n._)("td",null,(0,s.zw)(e.duration),1),(0,n._)("td",null,"$"+(0,s.zw)(je.priceCal(e.total_budget)),1),(0,n._)("td",null,[(0,n._)("a",{onClick:e=>je.removeItemFromCart(t),class:"d-inline text-white btn btn-danger btn-sm py-0"},fe,8,ve)])])))),128))])]),(0,n._)("div",null,[be,(0,n.Uk)(),(0,n._)("span",null,"$ "+(0,s.zw)(je.calculateTotalBudgetSum),1)]),(0,n._)("a",{onClick:t[9]||(t[9]=e=>_e.showModal=!0),class:"btn-warning w-100 rounded btn"}," Proceed to Payment ")])])])]),(0,n.Wm)(i.uT,{name:"bounce"},{default:(0,n.w5)((()=>[_e.showModal?((0,n.wg)(),(0,n.iD)("div",we,[(0,n._)("div",{class:"modal-overlay",onClick:t[10]||(t[10]=(...e)=>je.closeModal&&je.closeModal(...e))}),(0,n._)("div",xe,[(0,n._)("div",Se,[De,(0,n._)("a",{class:"btn btn-danger btn-sm modal-close text-white",onClick:t[11]||(t[11]=(...e)=>je.closeModal&&je.closeModal(...e))},"Ã—")]),(0,n._)("div",ke,[(0,n.Wm)(i.uT,{name:"fade"},{default:(0,n.w5)((()=>[_e.showGatway?((0,n.wg)(),(0,n.iD)("div",Pe,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[12]||(t[12]=e=>_e.gateway=e),class:"form-control"},[Ee,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_e.gateways,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e,value:e},(0,s.zw)(e),9,Le)))),128))],512),[[i.bM,_e.gateway]]),null!=_e.gateway?((0,n.wg)(),(0,n.iD)("a",{key:0,class:"btn btn-warning btn-sm w-100 mt-3",onClick:t[13]||(t[13]=e=>je.proceedToPayment(_e.gateway)),style:{cursor:"pointer"}}," Continue to Checkout ")):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",Me,[(0,n._)("form",{id:"payment-form",onSubmit:t[14]||(t[14]=(0,i.iM)(((...e)=>je.handleSubmit&&je.handleSubmit(...e)),["prevent"]))},[Ce,Ve,(0,n.Wm)(Ne,{messages:_e.messages},null,8,["messages"])],32)]))])),_:1})])])])):(0,n.kq)("",!0)])),_:1}),(0,n.wy)((0,n._)("div",null,[(0,n._)("div",{class:"modal-overlay",onClick:t[15]||(t[15]=e=>je.closeIframe())}),(0,n._)("div",Ie,[(0,n._)("div",ze,[(0,n._)("a",{class:"btn btn-danger btn-sm modal-close text-white",onClick:t[16]||(t[16]=e=>je.closeIframe())},"Ã—")]),(0,n._)("div",Te,[(0,n.wy)((0,n._)("div",Ae,null,512),[[i.F8,"stripe"==_e.gateway]]),(0,n._)("embed",{style:{width:"100%",height:"100%"},src:e.redirectlink},null,8,$e)])])],512),[[i.F8,_e.showModal2]])])}a(7658);var Ue=a(5754),He=a(591),We=a(1937),Be=a(56),Ne=a(7778),Fe={handle:{position:"absolute"},range:{position:"absolute"}},Oe={root:function(e){var t=e.props;return["p-slider p-component",{"p-disabled":t.disabled,"p-slider-horizontal":"horizontal"===t.orientation,"p-slider-vertical":"vertical"===t.orientation}]},range:"p-slider-range",handle:"p-slider-handle"},Ke=Ne.Z.extend({name:"slider",classes:Oe,inlineStyles:Fe}),Ye={name:"BaseSlider",extends:Be.Z,props:{modelValue:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ke,provide:function(){return{$parentInstance:this}}};function qe(e){return Ze(e)||Xe(e)||Re(e)||Ge()}function Ge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e,t){if(e){if("string"===typeof e)return Je(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Je(e,t):void 0}}function Xe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ze(e){if(Array.isArray(e))return Je(e)}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Qe={name:"Slider",extends:Ye,inheritAttrs:!1,emits:["update:modelValue","change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var e=this.$el.getBoundingClientRect();this.initX=e.left+We.p7.getWindowScrollLeft(),this.initY=e.top+We.p7.getWindowScrollTop(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(e){var t,a=e.touches?e.touches[0].pageX:e.pageX,n=e.touches?e.touches[0].pageY:e.pageY;t="horizontal"===this.orientation?100*(a-this.initX)/this.barWidth:100*(this.initY+this.barHeight-n)/this.barHeight;var i=(this.max-this.min)*(t/100)+this.min;if(this.step){var s=this.range?this.value[this.handleIndex]:this.value,r=i-s;r<0?i=s+Math.ceil(i/this.step-s/this.step)*this.step:r>0&&(i=s+Math.floor(i/this.step-s/this.step)*this.step)}else i=Math.floor(i);this.updateModel(e,i)},updateModel:function(e,t){var a,n=parseFloat(t.toFixed(10));this.range?(a=this.value?qe(this.value):[],0==this.handleIndex?(n<this.min?n=this.min:n>=this.max&&(n=this.max),a[0]=n):(n>this.max?n=this.max:n<=this.min&&(n=this.min),a[1]=n)):(n<this.min?n=this.min:n>this.max&&(n=this.max),a=n),this.$emit("update:modelValue",a),this.$emit("change",a)},onDragStart:function(e,t){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.value[0]===this.max?this.handleIndex=0:this.handleIndex=t,e.currentTarget.focus(),e.preventDefault())},onDrag:function(e){this.dragging&&(this.setValue(e),e.preventDefault())},onDragEnd:function(e){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:e,value:this.value}))},onBarClick:function(e){this.disabled||"handle"!==We.p7.getAttribute(e.target,"data-pc-section")&&(this.updateDomData(),this.setValue(e))},onMouseDown:function(e,t){this.bindDragListeners(),this.onDragStart(e,t)},onKeyDown:function(e,t){switch(this.handleIndex=t,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,t),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,t),e.preventDefault();break;case"PageDown":this.decrementValue(e,t,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,t,!0),e.preventDefault();break;case"Home":this.updateModel(e,this.min),e.preventDefault();break;case"End":this.updateModel(e,this.max),e.preventDefault();break}},decrementValue:function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a=this.range?this.step?this.value[t]-this.step:this.value[t]-1:this.step?this.value-this.step:!this.step&&n?this.value-10:this.value-1,this.updateModel(e,a),e.preventDefault()},incrementValue:function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a=this.range?this.step?this.value[t]+this.step:this.value[t]+1:this.step?this.value+this.step:!this.step&&n?this.value+10:this.value+1,this.updateModel(e,a),e.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)}},computed:{value:function(){var e,t,a,n,i;return this.range?[null!==(t=null===(a=this.modelValue)||void 0===a?void 0:a[0])&&void 0!==t?t:this.min,null!==(n=null===(i=this.modelValue)||void 0===i?void 0:i[1])&&void 0!==n?n:this.max]:null!==(e=this.modelValue)&&void 0!==e?e:this.min},horizontal:function(){return"horizontal"===this.orientation},vertical:function(){return"vertical"===this.orientation},rangeStyle:function(){if(this.range){var e=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,t=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{left:t+"%",width:e+"%"}:{bottom:t+"%",height:e+"%"}}return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{left:this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},handlePosition:function(){return this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)},rangeStartPosition:function(){return this.value&&this.value[0]?100*(this.value[0]<this.min?0:this.value[0]-this.min)/(this.max-this.min):0},rangeEndPosition:function(){return this.value&&2===this.value.length?100*(this.value[1]>this.max?100:this.value[1]-this.min)/(this.max-this.min):100},rangeStartHandleStyle:function(){return this.horizontal?{left:this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{left:this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}}},et=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],tt=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],at=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];function nt(e,t,a,i,s,r){return(0,n.wg)(),(0,n.iD)("div",(0,n.dG)({class:e.cx("root"),onClick:t[15]||(t[15]=function(){return r.onBarClick&&r.onBarClick.apply(r,arguments)})},e.ptmi("root"),{"data-p-sliding":!1}),[(0,n._)("span",(0,n.dG)({class:e.cx("range"),style:[e.sx("range"),r.rangeStyle]},e.ptm("range")),null,16),e.range?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",(0,n.dG)({key:0,class:e.cx("handle"),style:[e.sx("handle"),r.handleStyle],onTouchstartPassive:t[0]||(t[0]=function(e){return r.onDragStart(e)}),onTouchmovePassive:t[1]||(t[1]=function(e){return r.onDrag(e)}),onTouchend:t[2]||(t[2]=function(e){return r.onDragEnd(e)}),onMousedown:t[3]||(t[3]=function(e){return r.onMouseDown(e)}),onKeydown:t[4]||(t[4]=function(e){return r.onKeyDown(e)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("handle")),null,16,et)),e.range?((0,n.wg)(),(0,n.iD)("span",(0,n.dG)({key:1,class:e.cx("handle"),style:[e.sx("handle"),r.rangeStartHandleStyle],onTouchstartPassive:t[5]||(t[5]=function(e){return r.onDragStart(e,0)}),onTouchmovePassive:t[6]||(t[6]=function(e){return r.onDrag(e)}),onTouchend:t[7]||(t[7]=function(e){return r.onDragEnd(e)}),onMousedown:t[8]||(t[8]=function(e){return r.onMouseDown(e,0)}),onKeydown:t[9]||(t[9]=function(e){return r.onKeyDown(e,0)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[0]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("startHandler")),null,16,tt)):(0,n.kq)("",!0),e.range?((0,n.wg)(),(0,n.iD)("span",(0,n.dG)({key:2,class:e.cx("handle"),style:[e.sx("handle"),r.rangeEndHandleStyle],onTouchstartPassive:t[10]||(t[10]=function(e){return r.onDragStart(e,1)}),onTouchmovePassive:t[11]||(t[11]=function(e){return r.onDrag(e)}),onTouchend:t[12]||(t[12]=function(e){return r.onDragEnd(e)}),onMousedown:t[13]||(t[13]=function(e){return r.onMouseDown(e,1)}),onKeydown:t[14]||(t[14]=function(e){return r.onKeyDown(e,1)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[1]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("endHandler")),null,16,at)):(0,n.kq)("",!0)],16)}Qe.render=nt;var it=a(708),st=a(2033),rt="https://js.stripe.com/v3",ot=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,lt="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",dt=function(){for(var e=document.querySelectorAll('script[src^="'.concat(rt,'"]')),t=0;t<e.length;t++){var a=e[t];if(ot.test(a.src))return a}return null},ut=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(rt).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},ct=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.2.0",startTime:t})},ht=null,mt=function(e){return null!==ht||(ht=new Promise((function(t,a){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(lt),window.Stripe)t(window.Stripe);else try{var n=dt();n&&e?console.warn(lt):n||(n=ut(e)),n.addEventListener("load",(function(){window.Stripe?t(window.Stripe):a(new Error("Stripe.js not available"))})),n.addEventListener("error",(function(){a(new Error("Failed to load Stripe.js"))}))}catch(i){return void a(i)}else t(null)}))),ht},pt=function(e,t,a){if(null===e)return null;var n=e.apply(void 0,t);return ct(n,a),n},gt=Promise.resolve().then((function(){return mt(null)})),yt=!1;gt["catch"]((function(e){yt||console.warn(e)}));var vt=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];yt=!0;var n=Date.now();return gt.then((function(e){return pt(e,t,n)}))},_t=a(3727),ft={components:{Dropdown:Ue.Z,MultiSelect:He.Z,Slider:Qe,Calendar:st.Z,SrMessages:_t["default"]},data(){return{showModal2:!1,showGatway:!0,gateways:["paystack","stripe"],gateway:null,carts:[],cart_id:"",showModal:!1,accept:!1,promotionEstimate:{},tooltipElement:null,stuForm:!1,selectedReview:null,AppliactionReview:["Approved","Rejected","Got Admissions"],selectedCities:null,selectedregion:null,audience:{country_ids:[],program_id:null,region_ids:[],start_date:null,end_date:null,daily_budget:0},regions:[],cities:[],documents:[{id:1,text:"High School Grade MarkSheet",size:"4.00mb",date:"25/05/2022"},{id:2,text:"High School Certificates",size:"4.00mb",date:"25/05/2022"},{id:3,text:"Formal Photo",size:"4.00mb",date:"25/05/2022"},{id:4,text:"Passport font",size:"4.00mb",date:"25/05/2022"},{id:5,text:"National ID Photo",size:"4.00mb",date:"25/05/2022"}],programs:[],userInfo:JSON.parse(localStorage.getItem("userInfo")||"{}"),messages:[],isLoading:!1,stripe:null,elements:null}},computed:{calculateTotalBudgetSum(){return this.carts.reduce(((e,t)=>e+t.total_budget),0)/this.promotionEstimate?.number_of_reach*this.promotionEstimate?.number_of_reach_cost},numberOfDays(){if(this.audience.start_date&&this.audience.end_date){const e=new Date(this.audience.start_date),t=new Date(this.audience.end_date),a=t-e,n=Math.ceil(a/864e5);return n}return 0},estimatedPriceCal(){let e=this.audience.daily_budget/this.promotionEstimate?.number_of_reach*this.promotionEstimate?.number_of_reach_cost;return e}},methods:{removeItemFromCart(e){this.carts.splice(e,1),(0,it.v_)("carts/save_draft",{owner_id:this.userInfo.university_id,owner_type:"university",data:this.carts})},priceCal(e){return e/this.promotionEstimate?.number_of_reach*this.promotionEstimate?.number_of_reach_cost},programeName(e){let t=this.programs.filter((t=>t.id===e));return t?.length>0?t[0].program_code:""},async addItem(){let e=JSON.parse(JSON.stringify({program_id:this.audience.program_id,university_id:this.userInfo.university_id,region_ids:this.audience.region_ids,duration:this.numberOfDays,start_date:this.audience.start_date,end_date:this.audience.end_date,daily_budget:this.audience.daily_budget,total_budget:this.audience.daily_budget*this.numberOfDays}));this.carts.push(e);let t=await(0,it.v_)("carts/save_draft",{owner_id:this.userInfo.university_id,owner_type:"university",data:this.carts});this.clientSecret=t.message.client_secret},async closeIframe(){this.showModal2=!1;let e=await(0,it.v_)("transaction/check",{filters:{cart_id:this.cart_id}});if("successful"==e?.message)return this.carts=[],!1},async handleSubmit(){if(this.isLoading)return;this.isLoading=!0;const{error:e}=await this.stripe.confirmPayment({elements:this.elements,confirmParams:{return_url:`${window.location.origin}/return`}});"card_error"===e.type||"validation_error"===e.type?this.messages.push(e.message):this.messages.push("An unexpected error occured."),this.isLoading=!1},async proceedToPaymentStripe(){this.isLoading=!0,this.showGatway=!1,this.stripe=await vt("pk_test_51Mx9a0Hg1ECf9oe6zxlVnuccF15xgZMjSSlJ4BmhUXPTn6w0TLx2eASvYB4u5UMEsCmdhNMTcO5tdUgOjj4cXI0U00LKxNMFoY");const e={buttonType:{paypal:"checkout"}};this.elements=this.stripe.elements({clientSecret:this.clientSecret});const t=this.elements.create("expressCheckout",e);t.mount("#card-element");const a=this.elements.create("linkAuthentication");a.mount("#link-authentication-element"),this.isLoading=!1},async proceedToPayment(e){let t=await(0,it.v_)("carts/add",{owner_id:this.userInfo.university_id,owner_type:"university",products:this.carts,product_type:"promotion"});if(!t?.message)return!1;if("stripe"==e)return this.proceedToPaymentStripe(),!0;let a=t?.message.id;this.cart_id=a;const n=this.$stripe;this.gateway=e,this.showModal=!1,(0,it.v_)("transaction/initiate",{gateway:e,user_id:this.userInfo.university_id,user_type:"university",cart_id:a}).then((t=>{if("paystack"==e&&(this.showModal2=!0,this.redirectlink=t),"stripe"==e){const{client_secret:e}=t.data;n.confirmCardPayment(e).then((e=>{e.error?console.error(e.error):"succeeded"===e.paymentIntent.status&&console.log("Payment successful")}))}})).catch((e=>{console.error(e)}))},updateTooltipPosition(e){const t=document.querySelector(".p-slider-handle");this.tooltipElement||(this.tooltipElement=!0,this.tooltipElement=document.createElement("div"),this.tooltipElement.className="tooltipCustom",t.appendChild(this.tooltipElement)),this.tooltipElement.innerHTML=e},makePayment(){this.$emit("makePayment",{amount:this.this.audience.daily_budget})},closeModal(){this.showModal=!1}},async created(){this.$globals.loading=!0;const e=JSON.parse(localStorage.getItem("userInfo"));let t=await(0,it.U2)("programs?paginate=false&university_id="+e.university_id);t&&(this.programs=t),(0,it.U2)("promotion_estimates").then((e=>{e?.message&&(this.promotionEstimate=e.message)})),(0,it.U2)("api/regions",!1).then((e=>{e&&(this.regions=e)})),(0,it.v_)("carts/fetch_draft",{owner_id:this.userInfo.university_id,owner_type:"university"}).then((e=>{this.$globals.loading=!1,e?.message?.carts.data&&(this.clientSecret=e.message.client_secrete,this.carts=e.message.carts.data)}))}},bt=a(89);const wt=(0,bt.Z)(ft,[["render",je],["__scopeId","data-v-8c7ecdb6"]]);var xt=wt},3727:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=a(3396),i=a(7139),s=a(4870);const r={id:"messages",role:"alert"},o=["href"],l=(0,n._)("br",null,null,-1);var d={__name:"SrMessages",props:{messages:{type:Array,required:!0}},setup(e){const t=e,a=(0,s.Vh)(t,"messages"),d=(0,n.Fl)((()=>a.value.map((e=>{const t=/(pi_(\S*)\b)/,a=e.match(t);return{...a&&{paymentIntent:a[0]},content:e.replace(t,"")||e}})))),u=e=>`https://dashboard.stripe.com/test/payments/${e}`;return(e,t)=>((0,n.wg)(),(0,n.iD)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.value,(e=>((0,n.wg)(),(0,n.iD)("span",{key:e},[(0,n.Uk)(" > "+(0,i.zw)(e.content),1),e.paymentIntent?((0,n.wg)(),(0,n.iD)("a",{key:0,href:u(e.paymentIntent)},(0,i.zw)(e.paymentIntent),9,o)):(0,n.kq)("",!0),l])))),128))]))}};const u=d;var c=u}}]);
//# sourceMappingURL=4166.c71d458c.js.map