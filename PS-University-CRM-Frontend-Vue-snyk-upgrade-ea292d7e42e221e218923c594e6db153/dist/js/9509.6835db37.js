"use strict";(self["webpackChunkuniversity_crm"]=self["webpackChunkuniversity_crm"]||[]).push([[9509],{9509:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(3396);const o={class:"row w-90 mx-auto"},r={class:"px-4 py-3"},l=(0,n._)("b",{class:"me-2"},"Variables: ",-1),i=(0,n._)("code",null,"{full_name}, {program_name}, {program_code}, {program_type}, {program_award}, {program_faculty}, {study_type}, {study_language}, {program_duration}, {program_ECTS}, {learning_mode}, {application_fee_amount} {tuition_fee_amount} ",-1),s={class:"bg-white"},u={class:"d-flex justify-content-end mt-5"};function d(e,t,a,d,c,p){const m=(0,n.up)("DropDown"),g=(0,n.up)("ckeditor");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",r,[(0,n._)("div",null,[(0,n._)("div",null,[(0,n.Wm)(m,{onChange:p.fetchLetter,modelValue:c.letterType,"onUpdate:modelValue":t[0]||(t[0]=e=>c.letterType=e),class:"w-50",options:c.lettersType,optionLabel:"name",optionValue:"value"},null,8,["onChange","modelValue","options"])]),l,i,(0,n._)("div",s,[(0,n.Wm)(g,{editor:c.editor,modelValue:c.editorData,"onUpdate:modelValue":t[1]||(t[1]=e=>c.editorData=e),onReady:p.onReady,config:c.editorConfig},null,8,["editor","modelValue","onReady","config"])])])]),(0,n._)("div",u,[(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>p.saveLetter&&p.saveLetter(...e)),class:"px-5 py-2 btn save"},"Save Changes")])])}a(7658);var c=a(708),p=a(4411),m=a.n(p),g=a(8895),f={name:"GeneralSettings",data(){return{letterType:"",lettersType:[{name:"Acceptance Letter",value:"acceptance_letter"},{name:"Conditional Letter",value:"conditional_letter"},{name:"Rejection Letter",value:"rejection_letter"}],editor:m(),editorData:"",editorConfig:{height:400,fontSize:{options:[9,10,11,12,13,14,15,16,17,18,24,36,{model:"48px",title:"Huge",class:"ck-heading_font-size_huge"}]},ckfinder:{}}}},methods:{async fetchLetter(){let e=await(0,c.U2)("configuration/"+this.letterType);e?.message&&(this.editorData=e.message.value)},async saveLetter(){if(""==this.letterType)return(0,g.K)({text:"Select a letter type"}),!1;let e=await(0,g.K)({text:"Are you sure you want to save",confirmText:"Yes",cancelText:"No"});if(!e)return!1;let t=await(0,c.v_)("configuration/save",{value:this.editorData,name:this.letterType});t?.message&&(0,g.K)({text:t.message})},onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement(),e.plugins.get("FileRepository").createUploadAdapter=e=>new _(e));const t=e.config.get("toolbar");t.push("indent"),t.push("outdent"),t.push("styles"),e.ui.view.toolbar.update()}},mounted(){}};class _{constructor(e){this.loader=e}async upload(){const e=new FormData;return this.loader.file.then((async t=>{e.append("file",t),e.append("folder_name","Programs");let a=await(0,c.nv)("file_upload",e,!0);return{default:a.responseBody}}))}}var y=a(89);const v=(0,y.Z)(f,[["render",d]]);var h=v}}]);
//# sourceMappingURL=9509.6835db37.js.map