{"version":3,"file":"js/2192.8b4281f5.js","mappings":"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","sources":["webpack://university_crm/./src/components/Global/Pagination.vue","webpack://university_crm/./src/components/Global/Pagination.vue?a0a2","webpack://university_crm/./src/views/notification/Notification.vue","webpack://university_crm/./src/views/notification/Notification.vue?e799"],"sourcesContent":["<template>\r\n  <div>\r\n    <ul class=\"paginationData\">\r\n      <li v-for=\"link in paginationData?.links\" :key=\"link.label\"\r\n        :class=\"['page-item', { active: link.active, disabled: link.url === null }]\">\r\n        <button :disabled=\"link.url === null\" class=\"page-link\" @click.prevent=\"goToPage(link.url)\">\r\n          <span v-html=\"link.label\"></span>\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport { get, post } from \"@/api/client\";\r\nexport default {\r\n  name: 'PaginationData',\r\n  props: {\r\n    paginationData: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    method: {\r\n      type: String,\r\n      default: function () {\r\n        return \"get\";\r\n      }\r\n    },\r\n    filters: {\r\n      type: Object,\r\n      default: function () {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    async goToPage(url) {\r\n      if (url) {\r\n        let res = ''\r\n        if (this.method == 'get') {\r\n          res = await get(url);\r\n        } else {\r\n          res = await post(url, { filters: this.filters });\r\n        }\r\n        // Make an API request to fetch the data for the selected page\r\n        // Update the component's data with the new page's data          \r\n        // Once you receive the data, emit it as a response\r\n        this.$emit('onFetch', res.message);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.page-item {\r\n  display: inline-block;\r\n  margin-right: 5px;\r\n}\r\n\r\n.page-item.disabled .page-link {\r\n  opacity: 0.5;\r\n  user-select: none;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.page-item.disabled .page-link:hover {\r\n  opacity: 0.5;\r\n  user-select: none;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.page-item.active .page-link {\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  border-color: #007bff;\r\n}\r\n\r\n.page-link {\r\n  padding: 6px 12px;\r\n  line-height: 1.42857143;\r\n  color: #333;\r\n  background-color: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 3px;\r\n}\r\n\r\n.page-link:hover {\r\n  background-color: #e6e6e6;\r\n  color: #333;\r\n  text-decoration: none;\r\n}\r\n</style>","import { render } from \"./Pagination.vue?vue&type=template&id=0f9f4ca9&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=0f9f4ca9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f9f4ca9\"]])\n\nexport default __exports__","<template lang=\"html\">\r\n    <div>\r\n        <div class=\"d-flex justify-content-between\">\r\n            <h1 class=\"heading mb-4\">Notification</h1>\r\n            <div class=\"mr-7\">\r\n                <button class=\"clearAll btn btn-large px-4 fw-500\" @click=\"clearNotifications()\"\r\n                    :disabled=\"notifications?.data?.length == 0\">Clear All Notifications</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"card rounded-09\" id=\"notifications\">\r\n            <div v-if=\"notifications?.data?.length > 0\">\r\n                <div v-for=\"notification in notifications?.data\" :key=\"notification.id\"\r\n                    :class=\"{ 'active': notification?.highschool_viewed == '0' }\"\r\n                    class=\"card-body border-bottom d-flex align-items-center justify-content-between\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <span class=\"p-1 bg-primary border-primary rounded-circle\" v-if=\"notification.viewed == 0\">\r\n                            <span class=\"visually-hidden\">New alerts</span>\r\n                        </span>\r\n                        <div v-else class=\"m-1\"></div>\r\n                        <!-- <img :src=\"`${notification.userImage}`\" alt=\"\" class=\"rounded profile-image m-3\"/> -->\r\n                        <div @click=\"markAsRead(notification, $event)\"\r\n                            style=\"border-radius:50%; padding:20px; background:white;\" class=\"mx-3\">\r\n                            <svg width=\"40\" height=\"40\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                                xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\"\r\n                                enable-background=\"new 0 0 512 512\" xml:space=\"preserve\">\r\n                                <path style=\"pointer-events: none;\" :fill=\"notification.viewed == '0' ? '#fac515' : '#bbb'\"\r\n                                    d=\"M410.9,0H85.1C72.3,0,61.8,10.4,61.8,23.3V512L248,325.8L434.2,512V23.3C434.2,10.4,423.8,0,410.9,0z\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div class=\"subject-n-message d-flex justify-content-between\">\r\n                            <div class=\"mr-3 mb-2 mt-3\">\r\n                                <h4 class=\"fw-bold\">{{ notification.title }}</h4>\r\n                                <div v-html=\"notification.description\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <span class=\"m-3\">{{ notification.created_at }}</span>\r\n                </div>\r\n            </div>\r\n            <div v-else>\r\n                <div class=\"emptyNotification d-flex justify-content-between flex-column\">\r\n                    <img class=\"w-10\" :src=\"require('/src/assets/images/notification/notificationEmpty.png')\"\r\n                        alt=\"empty Notification\" />\r\n                    <p class=\"text-center text-gray emptyText\">No New Notifications</p>\r\n                </div>\r\n            </div>\r\n            <PaginationData :paginationData=\"notifications\" @onFetch=\"onFetchFunc($event)\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n//notification is listened on indexVue.vue file\r\nimport PaginationVue from \"@/components/Global/Pagination.vue\";\r\nimport { post } from \"@/api/client\";\r\nexport default {\r\n    name: \"NotificationScreen\",\r\n    data() {\r\n        return {\r\n            notifications: {},\r\n            notifyKey: 0,\r\n        };\r\n    },\r\n    components: {\r\n        PaginationData: PaginationVue,\r\n    },\r\n    methods: {\r\n        async markAsRead(notification, event) {\r\n            const pathElement = event.currentTarget.querySelector(\"path\");\r\n            if (notification.viewed === \"0\") {\r\n                let res = await post(\r\n                    'api/notifications/mark_as_read',\r\n                    { notification_id: notification.id, owner_type: \"highschool\" },\r\n                    false\r\n                );\r\n\r\n                if (res?.message) {\r\n                    pathElement.setAttribute(\"transform\", \"scale(-1, 1)\");\r\n                    pathElement.setAttribute(\"transform-origin\", \"center\");\r\n                    this.$globals.notification.total_unread -= 1;\r\n                    notification.viewed = \"1\";\r\n                }\r\n            }\r\n        },\r\n        clearNotifications() {\r\n            this.$globals.notification = [];\r\n        },\r\n        async onFetchFunc(data) {\r\n            console.log(data);\r\n            this.$globals.notification.message = data;\r\n        },\r\n    },\r\n    watch: {\r\n        \"$globals.notification\"() {\r\n            this.notifications = this.$globals.notification?.message;\r\n        },\r\n        \"$globals.notification.message\"() {\r\n            this.notifications = this.$globals.notification?.message;\r\n        },\r\n    },\r\n    mounted() {\r\n        this.notifications = this.$globals.notification?.message;\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\npath {\r\n    transition: all 0.3s;\r\n}\r\n\r\n.active {\r\n    background-color: #f5f5ff;\r\n}\r\n\r\n.border-primary {\r\n    color: #0408e7 !important;\r\n}\r\n\r\n.card-body:nth-child(1).active {\r\n    border-top-left-radius: 0.9em;\r\n    border-top-right-radius: 0.9em;\r\n}\r\n\r\n.clearAll {\r\n    background: #fac515;\r\n}\r\n\r\n.emptyNotification {\r\n    height: 100%;\r\n    line-height: 100vh;\r\n    position: relative;\r\n}\r\n\r\n.emptyNotification img {\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.fw-500 {\r\n    font-weight: 500;\r\n}\r\n\r\n.heading {\r\n    margin-left: 7vw;\r\n}\r\n\r\n.mr-7 {\r\n    margin-right: 7vw;\r\n}\r\n\r\n#notifications .card-body:last-of-type {\r\n    margin-bottom: 7em;\r\n}\r\n\r\n.profile-image {\r\n    width: 88px;\r\n    height: 88px;\r\n}\r\n\r\np.emptyText {\r\n    margin-top: 30vh;\r\n    font-size: 36px !important;\r\n}\r\n\r\n.rounded-09 {\r\n    border-radius: 0.9em !important;\r\n    z-index: -1;\r\n}\r\n\r\n.text-gray {\r\n    color: #98a2b3;\r\n}\r\n\r\n.w-10 {\r\n    width: 90px;\r\n    height: 95px;\r\n}\r\n\r\np {\r\n    margin: 0px !important;\r\n    margin-bottom: 0px !important;\r\n}\r\n\r\n.card {\r\n    position: static;\r\n}</style>","import { render } from \"./Notification.vue?vue&type=template&id=dbcc44f4&scoped=true&lang=html\"\nimport script from \"./Notification.vue?vue&type=script&lang=js\"\nexport * from \"./Notification.vue?vue&type=script&lang=js\"\n\nimport \"./Notification.vue?vue&type=style&index=0&id=dbcc44f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dbcc44f4\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","_Fragment","_renderList","$props","paginationData","links","link","key","label","_normalizeClass","active","disabled","url","onClick","_withModifiers","$event","$options","goToPage","innerHTML","name","props","type","Object","required","method","String","default","filters","data","mounted","methods","res","this","get","post","$emit","message","__exports__","render","id","_hoisted_9","width","height","version","xmlns","x","y","viewBox","_hoisted_2","_hoisted_3","_cache","clearNotifications","$data","notifications","length","_hoisted_4","_hoisted_5","_hoisted_6","notification","highschool_viewed","_hoisted_7","viewed","_hoisted_8","_hoisted_10","_hoisted_11","markAsRead","style","_hoisted_13","fill","d","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","title","description","_hoisted_19","created_at","_hoisted_20","_hoisted_21","src","require","alt","_hoisted_23","_createVNode","_component_PaginationData","onOnFetch","onFetchFunc","notifyKey","components","PaginationData","PaginationVue","event","pathElement","currentTarget","querySelector","notification_id","owner_type","setAttribute","$globals","total_unread","console","log","watch"],"sourceRoot":""}