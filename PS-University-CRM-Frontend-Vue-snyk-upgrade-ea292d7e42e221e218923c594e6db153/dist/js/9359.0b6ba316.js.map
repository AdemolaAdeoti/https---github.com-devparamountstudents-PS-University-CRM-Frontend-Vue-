{"version":3,"file":"js/9359.0b6ba316.js","mappings":"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","sources":["webpack://university_crm/./src/views/settings/AgreementLetter.vue","webpack://university_crm/./node_modules/driver.js/dist/driver.js.mjs","webpack://university_crm/./src/components/LetterCard.vue","webpack://university_crm/./src/components/LetterCard.vue?170c","webpack://university_crm/./src/components/PdfPreview.vue","webpack://university_crm/./src/components/Global/CircleProgress.vue","webpack://university_crm/./src/components/Global/CircleProgress.vue?665d","webpack://university_crm/./src/components/SignatureModal.vue","webpack://university_crm/./src/components/SignatureModal.vue?f505","webpack://university_crm/./src/components/PdfPreview.vue?ec40","webpack://university_crm/./src/views/settings/AgreementLetter.vue?c68a"],"sourcesContent":["<template>    \r\n    <div class=\"pdf-container\" style=\"overflow: auto;width:100%;\">\r\n        <div class=\"ps-5 border-bottom w-100 pt-2 d-flex justify-content-between align-items-center\" style=\"overflow: auto;\">\r\n            <div class=\"d-flex align-items-center\">                    \r\n                <div @click=\"currentTab =1\" style=\"cursor: pointer; border-bottom: 4px solid transparent; color: rgb(29, 41, 57); font-size:13px; \" :style=\"currentTab === 2 && 'border-bottom:  3px solid #bbb; font-weight:600' \" class=\"p-3\"> \r\n                    All Documents\r\n                </div>\r\n            </div>\r\n            <div>\r\n              <span v-if=\"selectedLetterIndex !=null\">\r\n                <button @click=\"updateStatus(letters[selectedLetterIndex],'accepted')\" :class=\"{'d-inline':selectedLetterIndex !=null,'d-none':selectedLetterIndex ==null}\" :disabled=\"letters[selectedLetterIndex].receiver_status === 'accepted'\" class=\"btn mx-2 btn-secondary btn-sm text-dark px-2\" >Submit Document</button>\r\n              </span>\r\n              <button v-if=\"previewLetter?.url\" :class=\"{'d-inline':selectedLetterIndex !=null,'d-none':selectedLetterIndex ==null}\" @click=\"reset()\" :disabled=\"letters[selectedLetterIndex].receiver_status === 'accepted'\" class=\"btn mx-2 btn-danger btn-sm\">Reset</button>\r\n              <button  :class=\"{'d-inline':selectedLetterIndex !=null,'d-none':selectedLetterIndex ==null}\" @click=\"previewLetter=null;keyData+=1; letters[selectedLetterIndex].show=false\" class=\"btn btn-warning btn-sm\">Back to Documents</button>\r\n            </div>\r\n      </div>      \r\n      <div :class=\"{'d-flex':currentTab === 1,'d-none':currentTab !== 1}\"  class=\"w-100\" style=\"overflow-y: auto; height: 100%;\">\r\n        <div v-if=\"letters.length<1\" class=\"align-items-center justify-content-center d-flex flex-column text-center w-100\" style=\"height:60vh\">\r\n            <span v-html=\"$globals.icons.noDocs\"></span>\r\n            <h1 class=\"mt-3\">No file found</h1>\r\n            <p class=\"m-0\">It seems we can’t find any file.</p>\r\n        </div>\r\n        <div v-else class=\"w-100\" style=\"height: 70vh;\">   \r\n          <div v-if=\"previewLetter == null\">\r\n            <div  v-for=\"(lett, l) in letters\" :key=\"l\" class=\"d-flex flex-column align-items-center my-2\">\r\n              <LetterCard :key=\"keyData\" @view=\"OpenLetterCard($event,l, lett,'prevCanvasFinal_' + l)\" :letter=\"lett\"></LetterCard>\r\n              <div :key=\"previewLetter?.url\" v-show=\"lett?.show\"  class=\"w-100  bg-white\">                          \r\n                <div  class=\"d-flex pt-3 flex-column align-items-center  bg-white w-75\" style=\"margin-left:11%\">\r\n                  <div id=\"previewScreen\"  @dblclick=\"preview(lett)\" :style=\"'padding: 10px;border: 1px dashed #aaa;  margin: 20px 10px;'\" class=\"position-relative col-md-3 d-flex flex-column align-items-center\"> \r\n                    <canvas :ref=\"'prevCanvasFinal_' + l\" :id=\"'prevCanvasFinal_' + l\" style=\"width:160px;border:1px solid #aaa;\" class=\"mx-auto\" height=\"200\"></canvas>\r\n                    <p class=\"text-center\">\r\n                      <span style=\"font-size:0.85em\" class=\"text-center\">{{ lett.pages }} Pages</span>\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <button @click=\"updateStatus(lett,'accepted')\" :disabled=\"lett.receiver_status === 'accepted'\" class=\"btn mx-2 btn-secondary btn-sm text-dark px-2\" >Submit Document</button>\r\n                    <button @click=\"updateStatus(lett,'rejected')\" :disabled=\"lett.receiver_status === 'accepted'\" class=\"btn mx-2 btn-secondary btn-sm text-dark px-2\" >Reject Document</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-else>\r\n            <PdfPreview ref=\"childRef\" @undoAttach=\"undoAttach($event)\" :key=\"previewLetter?.url\"  @attachSignature=\"signagureData($event)\" @loaded=\"previewLoaded($event)\" :letter=\"previewLetter\"></PdfPreview>\r\n            <!-- <div class=\"mt-3\">\r\n              <button class=\"btn btn-white border mr-3\" >Close</button>\r\n              <button class=\"btn btn-warning\">Send Document</button>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n        \r\n    </div>\r\n   \r\n  </template>\r\n    \r\n  <script>\r\n  import { PDFDocument} from 'pdf-lib';\r\n  import * as pdfjsLib from \"pdfjs-dist\";\r\n  import pdfjsWorker from \"pdfjs-dist/build/pdf.worker.entry\";  \r\n  import { driver } from \"driver.js\";\r\n  import \"driver.js/dist/driver.css\";\r\n  //import jquery from \"jquery\";\r\n  import \"jquery-ui-dist/jquery-ui\";\r\n  import { showModal } from \"@/plugins/modal\";\r\n  import { postFormData, post } from '@/api/client';\r\n  //import CircleProgress from '@/components/Global/CircleProgress.vue'\r\n  import LetterCard from '@/components/LetterCard.vue'\r\n  import PdfPreview from '@/components/PdfPreview.vue'\r\n  //const $ = jquery;\r\n  window.driverObj = null\r\n  let pdfDocument = null;\r\n  export default {\r\n    props:{documents:{default:[]}},\r\n    components: {\r\n     //   CircleProgress,\r\n        LetterCard,\r\n        PdfPreview\r\n    },\r\n    data() {\r\n      return {     \r\n        previewLetter:null,\r\n        loadingStatus:0,\r\n        selectedPageIndex:0,   \r\n        previewing:false,\r\n        currentTab:1,\r\n        letters:[],\r\n        savedLetters:[\r\n            {\r\n                owner_id:21,\r\n                platform:'university',\r\n                receiver_status:'accepted',\r\n                status:'rejected', \r\n                signed_date:'20-08-2023',\r\n                approval_date:'20-08-2023',\r\n                name:'agreement letter',\r\n                url:\"blob:http://localhost:8080/f929c03f-b7c3-483c-a893-173df4f9caec\",                \r\n                template:\"blob:http://localhost:8080/f929c03f-b7c3-483c-a893-173df4f9caec\",                \r\n                signs:[{\"pos_x\":135,\"pos_y\":194,\"page\":1}],            \r\n                pages:4,\r\n                created_at:'20-08-2023'\r\n            }\r\n        ],\r\n        selectedLetterIndex:null,\r\n        pdfUploadActive:false,\r\n        isDragging: false,\r\n        pdfUrl:null,\r\n        pdfPages: [], // Array to store loaded PDF pages\r\n        signaturePosition: null,\r\n        selectedPage: '',\r\n        showModal: false,\r\n        activateSign:false,\r\n        showTextFrame:false,\r\n        text: {\r\n          value: \"Your text here\",\r\n          fontSize: 14, \r\n          x:0,\r\n          y:0,\r\n          w:0,\r\n          h:0\r\n        },\r\n        sign: {\r\n          x: 0,\r\n          y: 0,\r\n          w: 0,\r\n          h: 0,\r\n          file: null,\r\n        },\r\n        pdfScale: 3,\r\n        userInfo:JSON.parse(localStorage.getItem('userInfo')||'{}'),\r\n        canvasHistory: [], // Array to store canvas states\r\n        canvasIndex: -1, // Current index in canvas history\r\n        tour:0,\r\n        tour2:0,\r\n        keyData:0\r\n      };\r\n    }, \r\n    methods: {\r\n      preview(letter){\r\n        //this.showModal = true\r\n        this.previewLetter = letter;\r\n    },\r\n    previewLoaded(){\r\n      let steps = this.letters[this.selectedLetterIndex].signs.map((item, index)=>{\r\n            return { element: '#signature_'+index, popover: { title: 'Add Signature', description: 'Click here to add signature', side: \"bottom\", align: 'start' }}        \r\n        });\r\n      steps.push( { popover: { title: 'Tour completed', description: 'you can now submit you document.' } })\r\n      setTimeout(()=>{\r\n        window.driverObj = driver({\r\n                    allowKeyboardControl:false,\r\n                    showProgress: true,\r\n                    steps: [...steps],\r\n                    onNextClick:(el,step)=>{                  \r\n                      if(step.popover.title ==\"Add Signature\"){\r\n                        this.$refs.childRef.addSignature(0);\r\n                      }         \r\n                    }\r\n                    }); \r\n                    if(this.tour2==0)   {\r\n                      this.tour2 += 1\r\n                      window.driverObj.drive();   \r\n                    }\r\n            },500)\r\n      },\r\n      async updateStatus(letter, status) {\r\n        try {\r\n          \r\n          if (status === 'accepted') {\r\n            this.$globals.loading = true\r\n            let data = { id: letter.id, receiver_status:status };\r\n            if (!letter.url) {\r\n              showModal({ text: 'Sign the document before submitting' });\r\n              return;\r\n            }\r\n\r\n            if(letter.receiver_status == 'accepted'){\r\n              throw new Error('Document already signed'); \r\n            }\r\n            const blob = await fetch(letter.url).then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n              }\r\n              return response.blob();\r\n            });\r\n\r\n            const formData = new FormData();\r\n            formData.append('file', blob);\r\n            const uploadResponse = await postFormData('file_upload', formData);\r\n\r\n            if (uploadResponse) {\r\n              data.url = uploadResponse.responseBody;\r\n              data.receiver_status = status\r\n              data.signed_date = new Date()\r\n            } else {\r\n              throw new Error('Failed to upload the signed document');\r\n            }\r\n            const response = await post('update_document', data);\r\n            this.$globals.loading = false\r\n            if (response?.message) {\r\n              letter.receiver_status = status;\r\n              letter.signed_date = new Date();\r\n              showModal({text:'Submitted Successfuly'});\r\n            } else {\r\n              throw new Error('Failed to update letter status');\r\n            }\r\n          }else{\r\n            let data = { id: letter.id, receiver_status:status };\r\n\r\n            const response = await post('update_document', data);\r\n            if (response?.message) {\r\n              letter.receiver_status = status;\r\n            } else {\r\n              throw new Error('Failed to update letter status');\r\n            }\r\n          }\r\n\r\n        } catch (error) {\r\n          showModal({text:'Error:'+ error});          \r\n          // Handle errors here\r\n        }\r\n      },\r\n    async  OpenLetterCard(e, x, letter, ref){        \r\n      if(letter.show){\r\n        letter.show = false\r\n        return false\r\n      }\r\n\r\n        letter.show = e\r\n        this.selectedLetterIndex = x;\r\n        this.$globals.loading = true\r\n        await this.selectLetter(x, letter.url || letter?.template,ref)\r\n        this.$globals.loading = false\r\n        //steps.push( { popover: { title: 'Tour completed', description: 'you can now submit you document.' } })\r\n        if(letter.receiver_status == 'pending'){          \r\n          window.driverObj = driver({\r\n                      allowKeyboardControl:false,\r\n                      showProgress: true,\r\n                      doneBtnText:'Open Document',                    \r\n                      showButtons:['next','close'],\r\n                      nextBtnText:'Continue',\r\n                      steps: [\r\n                        { element: '#l', popover: { title: \"Signing Your Agreement Letter\", description: \"Would you like me to guide you through these procceses?\", side: \"left\", align: 'start' }},\r\n                        { element: '#previewScreen', popover: { title: \"Start Signing\", description: \"Double click on the document to preview for signing\", side: \"left\", align: 'start' }}\r\n                      ],                    \r\n                      onNextClick:(el,step)=>{\r\n                        if(step.popover.title ==\"Start Signing\"){\r\n                          this.preview(letter)\r\n                        }else{\r\n                          window.driverObj?.moveNext()\r\n                        }                     \r\n                        console.log(el, step.popover.title)\r\n                      }\r\n                      });  \r\n          if(this.tour==0)   {\r\n            this.tour += 1\r\n            window.driverObj.drive();   \r\n          }\r\n        }\r\n        /* setTimeout(() => {\r\n          window.driverObj.refresh()          \r\n        }, 1000);    */\r\n      },  \r\n    async selectLetter(x, url=null, ref=null){\r\n          if(url === null){\r\n            this.selectedLetterIndex = x            \r\n            url = this.letters[x].template\r\n          }\r\n          \r\n          try{          \r\n              await this.loadPdf(url);\r\n              \r\n                  pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n\r\n                  if(ref !==null){                      \r\n                    await this.initiatOnePage(1, ref, 0.3);\r\n                    return false\r\n                  }\r\n\r\n                  this.loadingStatus = 0; \r\n                  setTimeout(async ()=>{\r\n                      for (let n = 0; n < this.pdfPages?.length; n++) {\r\n                          await this.initiatOnePage(n + 1, 'pagePrevCanvas_' + n, 0.3);\r\n\r\n                          if (n === 0) {\r\n                          await this.initiatOnePage(1, 'pageCanvasRef', this.pdfScale);\r\n                          }\r\n                          //update loading status                           \r\n                          this.loadingStatus = Math.ceil(((n + 1) / this.pdfPages.length) * 100);\r\n                          await new Promise(resolve => setTimeout(resolve, 100)); // 100ms delay\r\n                      }\r\n                  },1000)\r\n          }catch(e){      \r\n            console.log(e) ;\r\n              showModal({title:'Failed to load Letter',text:'Please check you network'})\r\n          }   \r\n      },\r\n      async selectPage(pageIndex){\r\n          if(this.selectedPageIndex != pageIndex){\r\n              this.selectedPageIndex = pageIndex\r\n              pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;        \r\n              this.initiatOnePage(pageIndex+1, 'pageCanvasRef', this.pdfScale)\r\n          }\r\n      },\r\n      async initiatOnePage(pageIndex, canvasRef, scale= 0.4){      \r\n                                      \r\n          await pdfDocument.getPage(pageIndex).then(async (page) => {               \r\n              let canvas;\r\n              if (canvasRef === 'pageCanvasRef') {\r\n                  canvas = document.getElementById('pageCanvasRef'); // Corrected typo here\r\n              } else {\r\n                  canvas = this.$refs[canvasRef][0]; \r\n              }\r\n\r\n              const context = canvas.getContext(\"2d\");        \r\n              const viewport = page.getViewport({ scale: scale });\r\n              canvas.height = viewport.height;\r\n              canvas.width = viewport.width;\r\n              await page.render({\r\n              canvasContext: context,\r\n              viewport,\r\n              enableWebGL: false,\r\n              });\r\n              return true;\r\n          })  \r\n          return true;\r\n      },\r\n      async deleteLetter(index,letter) {\r\n          // Remove the canvas element from the DOM\r\n          let res = await post('delete_uploaded_file',{url:letter.template},'admin',false); \r\n          if(!res){\r\n            return false;\r\n          }\r\n\r\n          const canvasRef = this.$refs['prevCanvas_' + index];\r\n          if (canvasRef) {\r\n              canvasRef[0].remove();\r\n          }\r\n\r\n          // Revoke the URL associated with the letter's canvas\r\n          if (this.letters[index]?.template) {\r\n              URL.revokeObjectURL(this.letters[index].template);\r\n          }\r\n\r\n          // Remove the letter from the array\r\n          this.letters.splice(index, 1);\r\n      },   \r\n      async onChange() {        \r\n        let name = await showModal({ \r\n          text:'Enter Letter Name',\r\n          input:true,\r\n          cancelText:\"Cancel\"\r\n        });\r\n        if(!name){\r\n          return false\r\n        }\r\n        const formData = new FormData();\r\n        formData.append(\"file\", this.$refs.file.files[0]);\r\n        formData.append(\"folder_name\", \"AdminUploadedLetters\");\r\n        let res = await postFormData('file_upload',formData, 'admin')           \r\n        if(!res){\r\n          showModal({\r\n            text:'check your network and try again'\r\n          })\r\n          return false;            \r\n        }\r\n        this.pdfUrl = res.responseBody\r\n        //this.pdfUrl = URL.createObjectURL(this.$refs.file.files[0]);             \r\n          this.letters.push({\r\n              name: name,\r\n              url:null,                \r\n              template:this.pdfUrl,                \r\n              signs:[],\r\n              pages:0,\r\n          })\r\n          this.$emit('updateLetter',this.letters)\r\n          setTimeout(async()=>{          \r\n              try{          \r\n                  for(const index in this.letters){\r\n                      const letter = this.letters[index];\r\n                      await this.loadPdf(letter.template);\r\n                      pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;      \r\n                      this.initiatOnePage(1,\"prevCanvas_\" + index)\r\n                      this.letters[this.letters.length - 1].pages = this.pdfPages.length;\r\n                  }                     \r\n                  this.pdfUploadActive = true;\r\n              }catch(e){                \r\n                  showModal({text:'Agreement let yet to be sent'})\r\n              }   \r\n          }, 1000)                          \r\n      },\r\n      async loadPdf(url) {        \r\n        \r\n            try{\r\n                 pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n                    const loadingTask = pdfjsLib.getDocument({\r\n                    url:url,\r\n                });\r\n                \r\n                pdfDocument = await loadingTask.promise;       \r\n                this.pdfPages = Array.from(\r\n                    { length: pdfDocument.numPages },\r\n                    (_, pageIndex) => pdfDocument.getPage(pageIndex + 1)\r\n                    );    \r\n                    return pdfDocument;\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n      },\r\n        dragover(e) {\r\n            e.preventDefault();\r\n            this.isDragging = true;\r\n        },\r\n        dragleave() {\r\n            this.isDragging = false;\r\n        },\r\n        drop(e) {\r\n            e.preventDefault();\r\n            this.$refs.file.files = e.dataTransfer.files;\r\n            this.onChange();\r\n            this.isDragging = false;\r\n        },    \r\n  \r\n     \r\n      async attachSignature(){\r\n        this.letters[this.selectedLetterIndex].signs.push({\r\n            pos_x: this.sign.x,\r\n            pos_y: this.sign.y,\r\n            page:this.selectedPageIndex+1\r\n        })     \r\n        this.$emit('updateLetter',this.letters)   \r\n        this.activateSign = false           \r\n      },\r\n      reset(){\r\n        showModal({text:'Are you sure reset changes',cancelText:'Cancel'}).then((res)=>{\r\n          if(res){\r\n            this.previewLetter.signs = this.previewLetter.signs.map(item => {\r\n              return { ...item, url: '' }; // Create a new object with the updated 'url' property\r\n            });\r\n            this.previewLetter.url=''\r\n          }\r\n        })\r\n      },\r\n      undoAttach(){\r\n        \r\n        if(this.canvasHistory.length >1){\r\n          const url = this.canvasHistory[ this.canvasHistory.length-1]\r\n          this.letters[this.selectedLetterIndex].url = url\r\n          this.previewLetter.url = url\r\n          this.canvasHistory.pop();\r\n        }else if(this.canvasHistory.length >0){\r\n          this.letters[this.selectedLetterIndex].url = ''\r\n          this.previewLetter.url = ''\r\n          this.canvasHistory.pop();\r\n        }\r\n      },\r\n      async signagureData(data){      \r\n        this.$globals.loading = true  \r\n        const letter = this.letters[this.selectedLetterIndex]\r\n        const url  = letter.url || letter.template\r\n        const res = await this.loadAndModifyPdf(url, data);\r\n        console.log(res,32)\r\n        this.canvasHistory.push(res)        \r\n        letter.url= res\r\n        this.previewLetter = letter;        \r\n        this.$globals.loading = false\r\n      },  \r\n      async loadAndModifyPdf(url,signatureData) {\r\n              try {\r\n          // Load the existing PDF document\r\n          const pdfBytes = await fetch(url).then(res => res.arrayBuffer())\r\n          const signatureImageBytes = await fetch(signatureData.url).then(res => res.arrayBuffer())\r\n          const pdfDoc = await PDFDocument.load(pdfBytes);\r\n\r\n          // Load the signature image\r\n          const signatureImage = await pdfDoc.embedPng(signatureImageBytes);\r\n\r\n          // Get the first page of the PDF (adjust the page index as needed)\r\n          const page = pdfDoc.getPages()[signatureData.page-1];\r\n\r\n          // Draw the signature image on the page\r\n          page.drawImage(signatureImage, {\r\n            x: signatureData.pos_x, // Adjust X position as needed\r\n            y:  page.getHeight() - signatureData.pos_y - 50, // Adjust Y position as needed\r\n            width: 100, // Adjust width as needed\r\n            height: 50, // Adjust height as needed\r\n          });\r\n\r\n          // Serialize the modified PDF document to bytes\r\n          const modifiedPdfBytes = await pdfDoc.save();\r\n          const modifiedPDFDataURL = URL.createObjectURL(new Blob([modifiedPdfBytes], { type: \"application/pdf\" }));           \r\n          return modifiedPDFDataURL;\r\n        } catch (error) {\r\n          console.error(\"Error loading and modifying PDF:\", error);\r\n          return null;\r\n        }\r\n      }\r\n   \r\n    },\r\n    async created() {\r\n    \r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.letters = this.userInfo?.university.agreement_letters\r\n      });\r\n    },\r\n    computed:{\r\n        getSigns(){\r\n            if(this.selectedLetterIndex != null){\r\n                return this.letters[this.selectedLetterIndex]?.signs\r\n            }\r\n            return []\r\n        }\r\n    },\r\n  \r\n  };\r\n  </script> \r\n    \r\n  <style scoped>\r\n  .pdf-container {\r\n   \r\n  }\r\n  \r\n  .pdf-viewer {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin: 20px 0;\r\n  }\r\n  \r\n  .page-thumbnail {\r\n    margin: 10px;\r\n  }\r\n  \r\n  container {\r\n    padding: 1em;\r\n    border: 1px solid lightgrey;\r\n    margin: 1em;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  input[type=\"button\"], button {\r\n    background-color: lightgray;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    padding: 0.5em 2em;\r\n  }\r\n  \r\n  #myFileInput {\r\n    display: none;\r\n  }\r\n  \r\n  .label {\r\n    display: block;\r\n    margin-top: 0.5em;\r\n  }\r\n  \r\n  .l {\r\n    left: -4px;\r\n    top: calc(50% - 10px);\r\n    cursor: w-resize;\r\n  }\r\n  \r\n  .r {\r\n    right: -4px;\r\n    top: calc(50% - 10px);\r\n    cursor: e-resize;\r\n  }\r\n  \r\n  .tl {\r\n    left: -6px;\r\n    top: -6px;\r\n    cursor: nw-resize;\r\n  }\r\n  \r\n  .tr {\r\n    right: -6px;\r\n    top: -6px;\r\n    cursor: ne-resize;\r\n  }\r\n  \r\n  .bl {\r\n    left: -6px;\r\n    bottom: -6px;\r\n    cursor: sw-resize;\r\n  }\r\n  \r\n  .br {\r\n    right: -6px;\r\n    bottom: -6px;\r\n    cursor: se-resize;\r\n  }\r\n  \r\n  .ui-resizable-handle {\r\n    position: absolute;\r\n    width: 12px;\r\n    height: 12px;\r\n    background: rgb(255, 0, 106);\r\n    border-width: 1.5px;\r\n    border-style: solid;\r\n    border-color: rgb(255, 255, 255);\r\n    border-image: initial;\r\n    border-radius: 999px;\r\n  }\r\n  \r\n  .resizable-wrapper {\r\n    width: 8px;\r\n    height: 16px;\r\n  }\r\n  \r\n  .ui-widget-content {\r\n    cursor: move;\r\n  }\r\n  \r\n  .modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n    z-index: 101;\r\n  }\r\n  \r\n  .modal-custom {\r\n    position: fixed;\r\n    top: 45%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 80%;\r\n    height: 80%;\r\n    background-color: white;\r\n    border-radius: 5px;\r\n    z-index: 5000;\r\n  }\r\n  \r\n  .modal-header {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n  \r\n  .modal-close {\r\n    border: none;\r\n    background-color: transparent;\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .modal-body {\r\n  height: 80vh;\r\n    background: white;\r\n  }\r\n  \r\n  iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: none;\r\n  }\r\n  .modal-overlay::before {\r\n      content: \"\";\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      backdrop-filter: blur(3px);\r\n  }\r\n  .progress-circle {\r\n   font-size: 20px;\r\n   margin: 20px;\r\n   position: relative; \r\n   padding: 0;\r\n   width: 5em;\r\n   height: 5em;\r\n   background-color: #F2E9E1; \r\n   border-radius: 50%;\r\n   line-height: 5em;\r\n  }\r\n  \r\n  .progress-circle:after{\r\n    border: none;\r\n    position: absolute;\r\n    top: 0.35em;\r\n    left: 0.35em;\r\n    text-align: center;\r\n    display: block;\r\n    border-radius: 50%;\r\n    width: 4.3em;\r\n    height: 4.3em;\r\n    background-color: white;\r\n    content: \" \";\r\n  }\r\n  \r\n  .progress-circle span {\r\n    position: absolute;\r\n    line-height: 5em;\r\n    width: 5em;\r\n    text-align: center;\r\n    display: block;\r\n    color: #53777A;\r\n    z-index: 2;\r\n  }\r\n  .left-half-clipper {    \r\n   border-radius: 50%;\r\n   width: 5em;\r\n   height: 5em;\r\n   position: absolute; \r\n   clip: rect(0, 5em, 5em, 2.5em); \r\n  }\r\n  \r\n  .progress-circle.over50 .left-half-clipper {\r\n   clip: rect(auto,auto,auto,auto);\r\n  }\r\n  .value-bar {   \r\n   position: absolute; \r\n   clip: rect(0, 2.5em, 5em, 0);\r\n   width: 5em;\r\n   height: 5em;\r\n   border-radius: 50%;\r\n   border: 0.45em solid #53777A; \r\n   box-sizing: border-box;\r\n  \r\n  }\r\n  \r\n  .progress-circle.over50 .first50-bar {\r\n  \r\n   position: absolute; \r\n   clip: rect(0em, 5em, 5em, 2.5em);\r\n   background-color: #53777A;\r\n   border-radius: 50%;\r\n   width: 5em;\r\n   height: 5em;\r\n  }\r\n  \r\n  /* Progress bar rotation position */\r\n  .progress-circle.p0 .value-bar { display: none !important; }\r\n  </style>\r\n\r\n\r\n  ","let F = {};\nfunction D(e = {}) {\n  F = {\n    animate: !0,\n    allowClose: !0,\n    overlayOpacity: 0.7,\n    smoothScroll: !1,\n    disableActiveInteraction: !1,\n    showProgress: !1,\n    stagePadding: 10,\n    stageRadius: 5,\n    popoverOffset: 10,\n    showButtons: [\"next\", \"previous\", \"close\"],\n    disableButtons: [],\n    overlayColor: \"#000\",\n    ...e\n  };\n}\nfunction a(e) {\n  return e ? F[e] : F;\n}\nfunction W(e, o, t, i) {\n  return (e /= i / 2) < 1 ? t / 2 * e * e + o : -t / 2 * (--e * (e - 2) - 1) + o;\n}\nfunction Q(e) {\n  const o = 'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\n  return e.flatMap((t) => {\n    const i = t.matches(o), p = Array.from(t.querySelectorAll(o));\n    return [...i ? [t] : [], ...p];\n  }).filter((t) => getComputedStyle(t).pointerEvents !== \"none\" && ae(t));\n}\nfunction Z(e) {\n  if (!e || se(e))\n    return;\n  const o = a(\"smoothScroll\");\n  e.scrollIntoView({\n    // Removing the smooth scrolling for elements which exist inside the scrollable parent\n    // This was causing the highlight to not properly render\n    behavior: !o || re(e) ? \"auto\" : \"smooth\",\n    inline: \"center\",\n    block: \"center\"\n  });\n}\nfunction re(e) {\n  if (!e || !e.parentElement)\n    return;\n  const o = e.parentElement;\n  return o.scrollHeight > o.clientHeight;\n}\nfunction se(e) {\n  const o = e.getBoundingClientRect();\n  return o.top >= 0 && o.left >= 0 && o.bottom <= (window.innerHeight || document.documentElement.clientHeight) && o.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\nfunction ae(e) {\n  return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length);\n}\nlet O = {};\nfunction b(e, o) {\n  O[e] = o;\n}\nfunction l(e) {\n  return e ? O[e] : O;\n}\nfunction V() {\n  O = {};\n}\nlet R = {};\nfunction N(e, o) {\n  R[e] = o;\n}\nfunction L(e) {\n  var o;\n  (o = R[e]) == null || o.call(R);\n}\nfunction ce() {\n  R = {};\n}\nfunction le(e, o, t, i) {\n  let p = l(\"__activeStagePosition\");\n  const n = p || t.getBoundingClientRect(), f = i.getBoundingClientRect(), w = W(e, n.x, f.x - n.x, o), r = W(e, n.y, f.y - n.y, o), v = W(e, n.width, f.width - n.width, o), s = W(e, n.height, f.height - n.height, o);\n  p = {\n    x: w,\n    y: r,\n    width: v,\n    height: s\n  }, J(p), b(\"__activeStagePosition\", p);\n}\nfunction G(e) {\n  if (!e)\n    return;\n  const o = e.getBoundingClientRect(), t = {\n    x: o.x,\n    y: o.y,\n    width: o.width,\n    height: o.height\n  };\n  b(\"__activeStagePosition\", t), J(t);\n}\nfunction de() {\n  const e = l(\"__activeStagePosition\"), o = l(\"__overlaySvg\");\n  if (!e)\n    return;\n  if (!o) {\n    console.warn(\"No stage svg found.\");\n    return;\n  }\n  const t = window.innerWidth, i = window.innerHeight;\n  o.setAttribute(\"viewBox\", `0 0 ${t} ${i}`);\n}\nfunction pe(e) {\n  const o = ue(e);\n  document.body.appendChild(o), te(o, (t) => {\n    t.target.tagName === \"path\" && L(\"overlayClick\");\n  }), b(\"__overlaySvg\", o);\n}\nfunction J(e) {\n  const o = l(\"__overlaySvg\");\n  if (!o) {\n    pe(e);\n    return;\n  }\n  const t = o.firstElementChild;\n  if ((t == null ? void 0 : t.tagName) !== \"path\")\n    throw new Error(\"no path element found in stage svg\");\n  t.setAttribute(\"d\", U(e));\n}\nfunction ue(e) {\n  const o = window.innerWidth, t = window.innerHeight, i = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  i.classList.add(\"driver-overlay\", \"driver-overlay-animated\"), i.setAttribute(\"viewBox\", `0 0 ${o} ${t}`), i.setAttribute(\"xmlSpace\", \"preserve\"), i.setAttribute(\"xmlnsXlink\", \"http://www.w3.org/1999/xlink\"), i.setAttribute(\"version\", \"1.1\"), i.setAttribute(\"preserveAspectRatio\", \"xMinYMin slice\"), i.style.fillRule = \"evenodd\", i.style.clipRule = \"evenodd\", i.style.strokeLinejoin = \"round\", i.style.strokeMiterlimit = \"2\", i.style.zIndex = \"10000\", i.style.position = \"fixed\", i.style.top = \"0\", i.style.left = \"0\", i.style.width = \"100%\", i.style.height = \"100%\";\n  const p = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  return p.setAttribute(\"d\", U(e)), p.style.fill = a(\"overlayColor\") || \"rgb(0,0,0)\", p.style.opacity = `${a(\"overlayOpacity\")}`, p.style.pointerEvents = \"auto\", p.style.cursor = \"auto\", i.appendChild(p), i;\n}\nfunction U(e) {\n  const o = window.innerWidth, t = window.innerHeight, i = a(\"stagePadding\") || 0, p = a(\"stageRadius\") || 0, n = e.width + i * 2, f = e.height + i * 2, w = Math.min(p, n / 2, f / 2), r = Math.floor(Math.max(w, 0)), v = e.x - i + r, s = e.y - i, c = n - r * 2, d = f - r * 2;\n  return `M${o},0L0,0L0,${t}L${o},${t}L${o},0Z\n    M${v},${s} h${c} a${r},${r} 0 0 1 ${r},${r} v${d} a${r},${r} 0 0 1 -${r},${r} h-${c} a${r},${r} 0 0 1 -${r},-${r} v-${d} a${r},${r} 0 0 1 ${r},-${r} z`;\n}\nfunction ve() {\n  const e = l(\"__overlaySvg\");\n  e && e.remove();\n}\nfunction fe() {\n  const e = document.getElementById(\"driver-dummy-element\");\n  if (e)\n    return e;\n  let o = document.createElement(\"div\");\n  return o.id = \"driver-dummy-element\", o.style.width = \"0\", o.style.height = \"0\", o.style.pointerEvents = \"none\", o.style.opacity = \"0\", o.style.position = \"fixed\", o.style.top = \"50%\", o.style.left = \"50%\", document.body.appendChild(o), o;\n}\nfunction K(e) {\n  const { element: o } = e;\n  let t = typeof o == \"string\" ? document.querySelector(o) : o;\n  t || (t = fe()), ge(t, e);\n}\nfunction he() {\n  const e = l(\"__activeElement\"), o = l(\"__activeStep\");\n  e && (G(e), de(), ie(e, o));\n}\nfunction ge(e, o) {\n  const i = Date.now(), p = l(\"__activeStep\"), n = l(\"__activeElement\") || e, f = !n || n === e, w = e.id === \"driver-dummy-element\", r = n.id === \"driver-dummy-element\", v = a(\"animate\"), s = o.onHighlightStarted || a(\"onHighlightStarted\"), c = (o == null ? void 0 : o.onHighlighted) || a(\"onHighlighted\"), d = (p == null ? void 0 : p.onDeselected) || a(\"onDeselected\"), m = a(), g = l();\n  !f && d && d(r ? void 0 : n, p, {\n    config: m,\n    state: g\n  }), s && s(w ? void 0 : e, o, {\n    config: m,\n    state: g\n  });\n  const u = !f && v;\n  let h = !1;\n  xe(), b(\"previousStep\", p), b(\"previousElement\", n), b(\"activeStep\", o), b(\"activeElement\", e);\n  const P = () => {\n    if (l(\"__transitionCallback\") !== P)\n      return;\n    const x = Date.now() - i, y = 400 - x <= 400 / 2;\n    o.popover && y && !h && u && (X(e, o), h = !0), a(\"animate\") && x < 400 ? le(x, 400, n, e) : (G(e), c && c(w ? void 0 : e, o, {\n      config: a(),\n      state: l()\n    }), b(\"__transitionCallback\", void 0), b(\"__previousStep\", p), b(\"__previousElement\", n), b(\"__activeStep\", o), b(\"__activeElement\", e)), window.requestAnimationFrame(P);\n  };\n  b(\"__transitionCallback\", P), window.requestAnimationFrame(P), Z(e), !u && o.popover && X(e, o), n.classList.remove(\"driver-active-element\", \"driver-no-interaction\"), n.removeAttribute(\"aria-haspopup\"), n.removeAttribute(\"aria-expanded\"), n.removeAttribute(\"aria-controls\"), a(\"disableActiveInteraction\") && e.classList.add(\"driver-no-interaction\"), e.classList.add(\"driver-active-element\"), e.setAttribute(\"aria-haspopup\", \"dialog\"), e.setAttribute(\"aria-expanded\", \"true\"), e.setAttribute(\"aria-controls\", \"driver-popover-content\");\n}\nfunction we() {\n  var e;\n  (e = document.getElementById(\"driver-dummy-element\")) == null || e.remove(), document.querySelectorAll(\".driver-active-element\").forEach((o) => {\n    o.classList.remove(\"driver-active-element\", \"driver-no-interaction\"), o.removeAttribute(\"aria-haspopup\"), o.removeAttribute(\"aria-expanded\"), o.removeAttribute(\"aria-controls\");\n  });\n}\nfunction I() {\n  const e = l(\"__resizeTimeout\");\n  e && window.cancelAnimationFrame(e), b(\"__resizeTimeout\", window.requestAnimationFrame(he));\n}\nfunction me(e) {\n  var r;\n  if (!l(\"isInitialized\") || !(e.key === \"Tab\" || e.keyCode === 9))\n    return;\n  const i = l(\"__activeElement\"), p = (r = l(\"popover\")) == null ? void 0 : r.wrapper, n = Q([\n    ...p ? [p] : [],\n    ...i ? [i] : []\n  ]), f = n[0], w = n[n.length - 1];\n  if (e.preventDefault(), e.shiftKey) {\n    const v = n[n.indexOf(document.activeElement) - 1] || w;\n    v == null || v.focus();\n  } else {\n    const v = n[n.indexOf(document.activeElement) + 1] || f;\n    v == null || v.focus();\n  }\n}\nfunction ee(e) {\n  var t;\n  ((t = a(\"allowKeyboardControl\")) == null || t) && (e.key === \"Escape\" ? L(\"escapePress\") : e.key === \"ArrowRight\" ? L(\"arrowRightPress\") : e.key === \"ArrowLeft\" && L(\"arrowLeftPress\"));\n}\nfunction te(e, o, t) {\n  const i = (n, f) => {\n    const w = n.target;\n    e.contains(w) && ((!t || t(w)) && (n.preventDefault(), n.stopPropagation(), n.stopImmediatePropagation()), f == null || f(n));\n  };\n  document.addEventListener(\"pointerdown\", i, !0), document.addEventListener(\"mousedown\", i, !0), document.addEventListener(\"pointerup\", i, !0), document.addEventListener(\"mouseup\", i, !0), document.addEventListener(\n    \"click\",\n    (n) => {\n      i(n, o);\n    },\n    !0\n  );\n}\nfunction ye() {\n  window.addEventListener(\"keyup\", ee, !1), window.addEventListener(\"keydown\", me, !1), window.addEventListener(\"resize\", I), window.addEventListener(\"scroll\", I);\n}\nfunction be() {\n  window.removeEventListener(\"keyup\", ee), window.removeEventListener(\"resize\", I), window.removeEventListener(\"scroll\", I);\n}\nfunction xe() {\n  const e = l(\"popover\");\n  e && (e.wrapper.style.display = \"none\");\n}\nfunction X(e, o) {\n  var C, y;\n  let t = l(\"popover\");\n  t && document.body.removeChild(t.wrapper), t = Pe(), document.body.appendChild(t.wrapper);\n  const {\n    title: i,\n    description: p,\n    showButtons: n,\n    disableButtons: f,\n    showProgress: w,\n    nextBtnText: r = a(\"nextBtnText\") || \"Next &rarr;\",\n    prevBtnText: v = a(\"prevBtnText\") || \"&larr; Previous\",\n    progressText: s = a(\"progressText\") || \"{current} of {total}\"\n  } = o.popover || {};\n  t.nextButton.innerHTML = r, t.previousButton.innerHTML = v, t.progress.innerHTML = s, i ? (t.title.innerHTML = i, t.title.style.display = \"block\") : t.title.style.display = \"none\", p ? (t.description.innerHTML = p, t.description.style.display = \"block\") : t.description.style.display = \"none\";\n  const c = n || a(\"showButtons\"), d = w || a(\"showProgress\") || !1, m = (c == null ? void 0 : c.includes(\"next\")) || (c == null ? void 0 : c.includes(\"previous\")) || d;\n  t.closeButton.style.display = c.includes(\"close\") ? \"block\" : \"none\", m ? (t.footer.style.display = \"flex\", t.progress.style.display = d ? \"block\" : \"none\", t.nextButton.style.display = c.includes(\"next\") ? \"block\" : \"none\", t.previousButton.style.display = c.includes(\"previous\") ? \"block\" : \"none\") : t.footer.style.display = \"none\";\n  const g = f || a(\"disableButtons\") || [];\n  g != null && g.includes(\"next\") && (t.nextButton.disabled = !0, t.nextButton.classList.add(\"driver-popover-btn-disabled\")), g != null && g.includes(\"previous\") && (t.previousButton.disabled = !0, t.previousButton.classList.add(\"driver-popover-btn-disabled\")), g != null && g.includes(\"close\") && (t.closeButton.disabled = !0, t.closeButton.classList.add(\"driver-popover-btn-disabled\"));\n  const u = t.wrapper;\n  u.style.display = \"block\", u.style.left = \"\", u.style.top = \"\", u.style.bottom = \"\", u.style.right = \"\", u.id = \"driver-popover-content\", u.setAttribute(\"role\", \"dialog\"), u.setAttribute(\"aria-labelledby\", \"driver-popover-title\"), u.setAttribute(\"aria-describedby\", \"driver-popover-description\");\n  const h = t.arrow;\n  h.className = \"driver-popover-arrow\";\n  const P = ((C = o.popover) == null ? void 0 : C.popoverClass) || a(\"popoverClass\") || \"\";\n  u.className = `driver-popover ${P}`.trim(), te(\n    t.wrapper,\n    (k) => {\n      var $, B, M;\n      const T = k.target, E = (($ = o.popover) == null ? void 0 : $.onNextClick) || a(\"onNextClick\"), A = ((B = o.popover) == null ? void 0 : B.onPrevClick) || a(\"onPrevClick\"), H = ((M = o.popover) == null ? void 0 : M.onCloseClick) || a(\"onCloseClick\");\n      if (T.classList.contains(\"driver-popover-next-btn\"))\n        return E ? E(e, o, {\n          config: a(),\n          state: l()\n        }) : L(\"nextClick\");\n      if (T.classList.contains(\"driver-popover-prev-btn\"))\n        return A ? A(e, o, {\n          config: a(),\n          state: l()\n        }) : L(\"prevClick\");\n      if (T.classList.contains(\"driver-popover-close-btn\"))\n        return H ? H(e, o, {\n          config: a(),\n          state: l()\n        }) : L(\"closeClick\");\n    },\n    (k) => !(t != null && t.description.contains(k)) && !(t != null && t.title.contains(k)) && typeof k.className == \"string\" && k.className.includes(\"driver-popover\")\n  ), b(\"popover\", t);\n  const S = ((y = o.popover) == null ? void 0 : y.onPopoverRender) || a(\"onPopoverRender\");\n  S && S(t, {\n    config: a(),\n    state: l()\n  }), ie(e, o), Z(u);\n  const _ = e.classList.contains(\"driver-dummy-element\"), x = Q([u, ..._ ? [] : [e]]);\n  x.length > 0 && x[0].focus();\n}\nfunction oe() {\n  const e = l(\"popover\");\n  if (!(e != null && e.wrapper))\n    return;\n  const o = e.wrapper.getBoundingClientRect(), t = a(\"stagePadding\") || 0, i = a(\"popoverOffset\") || 0;\n  return {\n    width: o.width + t + i,\n    height: o.height + t + i,\n    realWidth: o.width,\n    realHeight: o.height\n  };\n}\nfunction Y(e, o) {\n  const { elementDimensions: t, popoverDimensions: i, popoverPadding: p, popoverArrowDimensions: n } = o;\n  return e === \"start\" ? Math.max(\n    Math.min(\n      t.top - p,\n      window.innerHeight - i.realHeight - n.width\n    ),\n    n.width\n  ) : e === \"end\" ? Math.max(\n    Math.min(\n      t.top - (i == null ? void 0 : i.realHeight) + t.height + p,\n      window.innerHeight - (i == null ? void 0 : i.realHeight) - n.width\n    ),\n    n.width\n  ) : e === \"center\" ? Math.max(\n    Math.min(\n      t.top + t.height / 2 - (i == null ? void 0 : i.realHeight) / 2,\n      window.innerHeight - (i == null ? void 0 : i.realHeight) - n.width\n    ),\n    n.width\n  ) : 0;\n}\nfunction j(e, o) {\n  const { elementDimensions: t, popoverDimensions: i, popoverPadding: p, popoverArrowDimensions: n } = o;\n  return e === \"start\" ? Math.max(\n    Math.min(\n      t.left - p,\n      window.innerWidth - i.realWidth - n.width\n    ),\n    n.width\n  ) : e === \"end\" ? Math.max(\n    Math.min(\n      t.left - (i == null ? void 0 : i.realWidth) + t.width + p,\n      window.innerWidth - (i == null ? void 0 : i.realWidth) - n.width\n    ),\n    n.width\n  ) : e === \"center\" ? Math.max(\n    Math.min(\n      t.left + t.width / 2 - (i == null ? void 0 : i.realWidth) / 2,\n      window.innerWidth - (i == null ? void 0 : i.realWidth) - n.width\n    ),\n    n.width\n  ) : 0;\n}\nfunction ie(e, o) {\n  const t = l(\"popover\");\n  if (!t)\n    return;\n  const { align: i = \"start\", side: p = \"left\" } = (o == null ? void 0 : o.popover) || {}, n = i, f = e.id === \"driver-dummy-element\" ? \"over\" : p, w = a(\"stagePadding\") || 0, r = oe(), v = t.arrow.getBoundingClientRect(), s = e.getBoundingClientRect(), c = s.top - r.height;\n  let d = c >= 0;\n  const m = window.innerHeight - (s.bottom + r.height);\n  let g = m >= 0;\n  const u = s.left - r.width;\n  let h = u >= 0;\n  const P = window.innerWidth - (s.right + r.width);\n  let S = P >= 0;\n  const _ = !d && !g && !h && !S;\n  let x = f;\n  if (f === \"top\" && d ? S = h = g = !1 : f === \"bottom\" && g ? S = h = d = !1 : f === \"left\" && h ? S = d = g = !1 : f === \"right\" && S && (h = d = g = !1), f === \"over\") {\n    const C = window.innerWidth / 2 - r.realWidth / 2, y = window.innerHeight / 2 - r.realHeight / 2;\n    t.wrapper.style.left = `${C}px`, t.wrapper.style.right = \"auto\", t.wrapper.style.top = `${y}px`, t.wrapper.style.bottom = \"auto\";\n  } else if (_) {\n    const C = window.innerWidth / 2 - (r == null ? void 0 : r.realWidth) / 2, y = 10;\n    t.wrapper.style.left = `${C}px`, t.wrapper.style.right = \"auto\", t.wrapper.style.bottom = `${y}px`, t.wrapper.style.top = \"auto\";\n  } else if (h) {\n    const C = Math.min(\n      u,\n      window.innerWidth - (r == null ? void 0 : r.realWidth) - v.width\n    ), y = Y(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.left = `${C}px`, t.wrapper.style.top = `${y}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.right = \"auto\", x = \"left\";\n  } else if (S) {\n    const C = Math.min(\n      P,\n      window.innerWidth - (r == null ? void 0 : r.realWidth) - v.width\n    ), y = Y(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.right = `${C}px`, t.wrapper.style.top = `${y}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.left = \"auto\", x = \"right\";\n  } else if (d) {\n    const C = Math.min(\n      c,\n      window.innerHeight - r.realHeight - v.width\n    );\n    let y = j(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.top = `${C}px`, t.wrapper.style.left = `${y}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.right = \"auto\", x = \"top\";\n  } else if (g) {\n    const C = Math.min(\n      m,\n      window.innerHeight - (r == null ? void 0 : r.realHeight) - v.width\n    );\n    let y = j(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.left = `${y}px`, t.wrapper.style.bottom = `${C}px`, t.wrapper.style.top = \"auto\", t.wrapper.style.right = \"auto\", x = \"bottom\";\n  }\n  _ ? t.arrow.classList.add(\"driver-popover-arrow-none\") : Ce(n, x, e);\n}\nfunction Ce(e, o, t) {\n  const i = l(\"popover\");\n  if (!i)\n    return;\n  const p = t.getBoundingClientRect(), n = oe(), f = i.arrow, w = n.width, r = window.innerWidth, v = p.width, s = p.left, c = n.height, d = window.innerHeight, m = p.top, g = p.height;\n  f.className = \"driver-popover-arrow\";\n  let u = o, h = e;\n  o === \"top\" ? (s + v <= 0 ? (u = \"right\", h = \"end\") : s + v - w <= 0 && (u = \"top\", h = \"start\"), s >= r ? (u = \"left\", h = \"end\") : s + w >= r && (u = \"top\", h = \"end\")) : o === \"bottom\" ? (s + v <= 0 ? (u = \"right\", h = \"start\") : s + v - w <= 0 && (u = \"bottom\", h = \"start\"), s >= r ? (u = \"left\", h = \"start\") : s + w >= r && (u = \"bottom\", h = \"end\")) : o === \"left\" ? (m + g <= 0 ? (u = \"bottom\", h = \"end\") : m + g - c <= 0 && (u = \"left\", h = \"start\"), m >= d ? (u = \"top\", h = \"end\") : m + c >= d && (u = \"left\", h = \"end\")) : o === \"right\" && (m + g <= 0 ? (u = \"bottom\", h = \"start\") : m + g - c <= 0 && (u = \"right\", h = \"start\"), m >= d ? (u = \"top\", h = \"start\") : m + c >= d && (u = \"right\", h = \"end\")), u ? (f.classList.add(`driver-popover-arrow-side-${u}`), f.classList.add(`driver-popover-arrow-align-${h}`)) : f.classList.add(\"driver-popover-arrow-none\");\n}\nfunction Pe() {\n  const e = document.createElement(\"div\");\n  e.classList.add(\"driver-popover\");\n  const o = document.createElement(\"div\");\n  o.classList.add(\"driver-popover-arrow\");\n  const t = document.createElement(\"header\");\n  t.id = \"driver-popover-title\", t.classList.add(\"driver-popover-title\"), t.style.display = \"none\", t.innerText = \"Popover Title\";\n  const i = document.createElement(\"div\");\n  i.id = \"driver-popover-description\", i.classList.add(\"driver-popover-description\"), i.style.display = \"none\", i.innerText = \"Popover description is here\";\n  const p = document.createElement(\"button\");\n  p.type = \"button\", p.classList.add(\"driver-popover-close-btn\"), p.setAttribute(\"aria-label\", \"Close\"), p.innerHTML = \"&times;\";\n  const n = document.createElement(\"footer\");\n  n.classList.add(\"driver-popover-footer\");\n  const f = document.createElement(\"span\");\n  f.classList.add(\"driver-popover-progress-text\"), f.innerText = \"\";\n  const w = document.createElement(\"span\");\n  w.classList.add(\"driver-popover-navigation-btns\");\n  const r = document.createElement(\"button\");\n  r.type = \"button\", r.classList.add(\"driver-popover-prev-btn\"), r.innerHTML = \"&larr; Previous\";\n  const v = document.createElement(\"button\");\n  return v.type = \"button\", v.classList.add(\"driver-popover-next-btn\"), v.innerHTML = \"Next &rarr;\", w.appendChild(r), w.appendChild(v), n.appendChild(f), n.appendChild(w), e.appendChild(p), e.appendChild(o), e.appendChild(t), e.appendChild(i), e.appendChild(n), {\n    wrapper: e,\n    arrow: o,\n    title: t,\n    description: i,\n    footer: n,\n    previousButton: r,\n    nextButton: v,\n    closeButton: p,\n    footerButtons: w,\n    progress: f\n  };\n}\nfunction Se() {\n  var o;\n  const e = l(\"popover\");\n  e && ((o = e.wrapper.parentElement) == null || o.removeChild(e.wrapper));\n}\nfunction ke(e = {}) {\n  D(e);\n  function o() {\n    a(\"allowClose\") && v();\n  }\n  function t() {\n    const s = l(\"activeIndex\"), c = a(\"steps\") || [];\n    if (typeof s == \"undefined\")\n      return;\n    const d = s + 1;\n    c[d] ? r(d) : v();\n  }\n  function i() {\n    const s = l(\"activeIndex\"), c = a(\"steps\") || [];\n    if (typeof s == \"undefined\")\n      return;\n    const d = s - 1;\n    c[d] ? r(d) : v();\n  }\n  function p(s) {\n    (a(\"steps\") || [])[s] ? r(s) : v();\n  }\n  function n() {\n    var h;\n    if (l(\"__transitionCallback\"))\n      return;\n    const c = l(\"activeIndex\"), d = l(\"__activeStep\"), m = l(\"__activeElement\");\n    if (typeof c == \"undefined\" || typeof d == \"undefined\" || typeof l(\"activeIndex\") == \"undefined\")\n      return;\n    const u = ((h = d.popover) == null ? void 0 : h.onPrevClick) || a(\"onPrevClick\");\n    if (u)\n      return u(m, d, {\n        config: a(),\n        state: l()\n      });\n    i();\n  }\n  function f() {\n    var u;\n    if (l(\"__transitionCallback\"))\n      return;\n    const c = l(\"activeIndex\"), d = l(\"__activeStep\"), m = l(\"__activeElement\");\n    if (typeof c == \"undefined\" || typeof d == \"undefined\")\n      return;\n    const g = ((u = d.popover) == null ? void 0 : u.onNextClick) || a(\"onNextClick\");\n    if (g)\n      return g(m, d, {\n        config: a(),\n        state: l()\n      });\n    t();\n  }\n  function w() {\n    l(\"isInitialized\") || (b(\"isInitialized\", !0), document.body.classList.add(\"driver-active\", a(\"animate\") ? \"driver-fade\" : \"driver-simple\"), ye(), N(\"overlayClick\", o), N(\"escapePress\", o), N(\"arrowLeftPress\", n), N(\"arrowRightPress\", f));\n  }\n  function r(s = 0) {\n    var E, A, H, $, B, M, z, q;\n    const c = a(\"steps\");\n    if (!c) {\n      console.error(\"No steps to drive through\"), v();\n      return;\n    }\n    if (!c[s]) {\n      v();\n      return;\n    }\n    b(\"__activeOnDestroyed\", document.activeElement), b(\"activeIndex\", s);\n    const d = c[s], m = c[s + 1], g = c[s - 1], u = ((E = d.popover) == null ? void 0 : E.doneBtnText) || a(\"doneBtnText\") || \"Done\", h = a(\"allowClose\"), P = typeof ((A = d.popover) == null ? void 0 : A.showProgress) != \"undefined\" ? (H = d.popover) == null ? void 0 : H.showProgress : a(\"showProgress\"), _ = ((($ = d.popover) == null ? void 0 : $.progressText) || a(\"progressText\") || \"{{current}} of {{total}}\").replace(\"{{current}}\", `${s + 1}`).replace(\"{{total}}\", `${c.length}`), x = ((B = d.popover) == null ? void 0 : B.showButtons) || a(\"showButtons\"), C = [\n      \"next\",\n      \"previous\",\n      ...h ? [\"close\"] : []\n    ].filter((ne) => !(x != null && x.length) || x.includes(ne)), y = ((M = d.popover) == null ? void 0 : M.onNextClick) || a(\"onNextClick\"), k = ((z = d.popover) == null ? void 0 : z.onPrevClick) || a(\"onPrevClick\"), T = ((q = d.popover) == null ? void 0 : q.onCloseClick) || a(\"onCloseClick\");\n    K({\n      ...d,\n      popover: {\n        showButtons: C,\n        nextBtnText: m ? void 0 : u,\n        disableButtons: [...g ? [] : [\"previous\"]],\n        showProgress: P,\n        progressText: _,\n        onNextClick: y || (() => {\n          m ? r(s + 1) : v();\n        }),\n        onPrevClick: k || (() => {\n          r(s - 1);\n        }),\n        onCloseClick: T || (() => {\n          v();\n        }),\n        ...(d == null ? void 0 : d.popover) || {}\n      }\n    });\n  }\n  function v(s = !0) {\n    const c = l(\"__activeElement\"), d = l(\"__activeStep\"), m = l(\"__activeOnDestroyed\"), g = a(\"onDestroyStarted\");\n    if (s && g) {\n      const P = !c || (c == null ? void 0 : c.id) === \"driver-dummy-element\";\n      g(P ? void 0 : c, d, {\n        config: a(),\n        state: l()\n      });\n      return;\n    }\n    const u = (d == null ? void 0 : d.onDeselected) || a(\"onDeselected\"), h = a(\"onDestroyed\");\n    if (document.body.classList.remove(\"driver-active\", \"driver-fade\", \"driver-simple\"), be(), Se(), we(), ve(), ce(), V(), c && d) {\n      const P = c.id === \"driver-dummy-element\";\n      u && u(P ? void 0 : c, d, {\n        config: a(),\n        state: l()\n      }), h && h(P ? void 0 : c, d, {\n        config: a(),\n        state: l()\n      });\n    }\n    m && m.focus();\n  }\n  return {\n    isActive: () => l(\"isInitialized\") || !1,\n    refresh: I,\n    drive: (s = 0) => {\n      w(), r(s);\n    },\n    setConfig: D,\n    setSteps: (s) => {\n      V(), D({\n        ...a(),\n        steps: s\n      });\n    },\n    getConfig: a,\n    getState: l,\n    getActiveIndex: () => l(\"activeIndex\"),\n    isFirstStep: () => l(\"activeIndex\") === 0,\n    isLastStep: () => {\n      const s = a(\"steps\") || [], c = l(\"activeIndex\");\n      return c !== void 0 && c === s.length - 1;\n    },\n    getActiveStep: () => l(\"activeStep\"),\n    getActiveElement: () => l(\"activeElement\"),\n    getPreviousElement: () => l(\"previousElement\"),\n    getPreviousStep: () => l(\"previousStep\"),\n    moveNext: t,\n    movePrevious: i,\n    moveTo: p,\n    hasNextStep: () => {\n      const s = a(\"steps\") || [], c = l(\"activeIndex\");\n      return c !== void 0 && s[c + 1];\n    },\n    hasPreviousStep: () => {\n      const s = a(\"steps\") || [], c = l(\"activeIndex\");\n      return c !== void 0 && s[c - 1];\n    },\n    highlight: (s) => {\n      w(), K({\n        ...s,\n        popover: s.popover ? {\n          showButtons: [],\n          showProgress: !1,\n          progressText: \"\",\n          ...s.popover\n        } : void 0\n      });\n    },\n    destroy: () => {\n      v(!1);\n    }\n  };\n}\nexport {\n  ke as driver\n};\n","<template>\r\n    <div class=\"w-100\" :class=\"{'rounded bg-white':isOpen}\">\r\n        <div :class=\"{'rounded shadow bg-white':!isOpen}\" class=\"row mx-auto  py-3 d-flex align-items-center\" style=\"width:95%\">\r\n                <div class=\"col-sm-2 \">\r\n                    <span class=\"ms-3\" v-html=\"$globals.icons.pdf\"></span>\r\n                </div>\r\n                <div class=\"col-sm-3\"><p class=\" my-1 fs1 w-10 text-secondary\">Document Name</p>\r\n                    <span class=\"fs1\">{{letter?.name}}</span>\r\n                </div>\r\n                <div class=\"col-sm-3\"><p class=\" my-1 fs1 w-10 text-secondary\">Date Created</p>\r\n                    <span class=\"fs1\">{{letter?.created_at}}</span>\r\n                </div>\r\n                <div class=\"col-sm-2\"><p class=\" my-1 fs1 w-10  text-secondary\">Status</p>                \r\n                    <span >\r\n                        <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" border-radius=\"5px\" class=\"bi bi-circle\" :style=\"{\r\n                            backgroundColor: getTextColor(letter?.status||'pending'),\r\n                            fill: getTextColor(letter?.status ||'pending'), borderRadius: '5px'}\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n                        </svg>\r\n                    </span>\r\n                    <span class=\"text-truncate fs1\" style=\"text-transform:capitalize\" >\r\n                        {{ letter?.status ??'Pending' }}\r\n                    </span>                                      \r\n                </div>\r\n                <div class=\"col-sm-2\"><b class=\"w-10\"></b>\r\n                    <button @click=\"view\" class=\"btn btn-sm btn-light \">View <span v-html=\"$globals.icons.caret\"></span></button>\r\n                </div>\r\n                <hr v-if=\"isOpen\" class=\"mt-3\" style=\"background: #eee;\">\r\n            </div>\r\n            \r\n            <div :class=\"{'d-flex':isOpen,'d-none':!isOpen }\" class=\" flex-column justify-content-around align-items-center mt-3\">\r\n                <div class=\"position-relative\" style=\"width:75%; padding-left:6%; padding-right:6%\">\r\n                    <span v-html=\"$globals.icons.status\" style=\"stroke:#00A137\"></span>                    \r\n                    <span class=\"d-inline-block\"  style=\" background:#FDEDB6;width: 36.5%;height:6px\"></span>\r\n                    <span v-html=\"$globals.icons.status\" :style=\"letter?.receiver_status == 'accepted'? 'stroke:#00A137': letter?.receiver_status == 'pending'? 'stroke:#909295':'stroke:#DC3545'\"></span>\r\n                    <span class=\"d-inline-block\"  style=\"background:#FDEDB6;width: 28.5%;height:6px\"></span>\r\n                    <span v-html=\"$globals.icons.status\" :style=\"letter?.status == 'approved'? 'stroke:#00A137': letter?.status == 'pending'? 'stroke:#909295':'stroke:#DC3545'\"></span>\r\n                </div>    \r\n                <div class=\"d-flex justify-content-between w-75\">\r\n                    \r\n                    <span style=\"width: 40%;\" class=\"d-flex flex-column align-items-start\">\r\n                        <span style=\"\" class=\"text-center\">\r\n                            <p style=\"font-size:0.95em; font-weight:400\" class=\"m-0\">Admin Document sent </p>\r\n                            <span style=\"font-size:0.8em\">Date: {{letter?.created_at || +'20-08-2023'}}</span>\r\n                        </span>\r\n                    </span>\r\n                    <span style=\"width: 30%;\" class=\"d-flex flex-column align-items-start\">\r\n\r\n                        <span class=\"text-center\">\r\n                            <p style=\"font-size:0.95em; font-weight:400\" class=\"m-0\">High School signed </p>\r\n                            <span style=\"font-size:0.8em\">Date: {{letter?.signed_date|| 'YYYY-MM-DD'}}</span>\r\n                        </span>                                    \r\n                    </span>\r\n                    <span style=\"width: 30%;\" class=\"d-flex flex-column align-items-start\">\r\n                        <span  class=\"text-center\">\r\n                            <p style=\"font-size:0.95em; font-weight:400\" class=\"m-0\">Admin Approved </p>\r\n                            <span style=\"font-size:0.8em\">Date: {{letter?.approval_date|| 'YYYY-MM-DD' }}</span>\r\n                        </span>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    export default{\r\n        props:{\r\n            letter:Object\r\n        },\r\n        data(){\r\n            return {\r\n                isOpen:false\r\n            }\r\n        },\r\n        methods:{\r\n            view(){\r\n                this.isOpen = !this.isOpen\r\n                this.$emit('view',this.isOpen);\r\n            },\r\n            getTextColor(status) {\r\n                try{        \r\n                    return status.toLowerCase() == 'pending'\r\n                        ? '#fac515'\r\n                        : status.toLowerCase() === 'signed'\r\n                        ? '#0275d8'\r\n                        : status.toLowerCase() === 'approved'\r\n                        ? '#198754'                        \r\n                        : status.toLowerCase() === 'rejected'?\r\n                        \"#DC3545\":'#555555';      \r\n                    }catch(e){\r\n                    //console.log(e, status)\r\n                    }\r\n                    return '';\r\n                },\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n.w-10{\r\n    font-weight: 500;\r\n}\r\n.fs1{\r\n    font-size:0.95em !important;\r\n    \r\n}\r\n</style>","import { render } from \"./LetterCard.vue?vue&type=template&id=00bc458a&scoped=true\"\nimport script from \"./LetterCard.vue?vue&type=script&lang=js\"\nexport * from \"./LetterCard.vue?vue&type=script&lang=js\"\n\nimport \"./LetterCard.vue?vue&type=style&index=0&id=00bc458a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00bc458a\"]])\n\nexport default __exports__","<template>\r\n    <div style=\"display: flex;align-items: center;\">    \r\n     <div :class=\"{'d-flex':loadingStatus == 100,'d-none':loadingStatus < 100}\" class=\"w-100\">                        \r\n        <div style=\"padding: 10px;width: 20%;\">\r\n            <div style=\"height: 80%;width: 100%;overflow-y: auto;\" >\r\n                <div v-for=\"(page, pageIndex) in pdfPages\" @click=\"selectPage(pageIndex)\"  :key=\"pageIndex\" :style=\"{\r\n                        background: pageIndex === selectedPageIndex ? $globals.colorsHex.warningLight : '',padding: '10px',border: '1px solid ' + $globals.colorsHex.warning,width: '100%',margin: '20px 0px',cursor:'pointer'}\">\r\n                    <canvas :ref=\"'pagePrevCanvas_1010' + pageIndex\" style=\"width:100%;\" height=\"200\" ></canvas>\r\n                </div> \r\n                                                                      \r\n            </div>            \r\n        </div>\r\n        <div  style=\"width:95%;border-left: 1px solid #aaa;\">     \r\n            <br/><br/>      \r\n            \r\n            <div  style=\"width:90%;overflow: auto;margin-left:auto;margin-right:auto;line-hti\">     \r\n                <div class=\"p-0 position-relative mx-auto\" style=\"width:700px\" >\r\n                    <canvas id=\"pageCanvasRef-1010\" ref=\"pageCanvasRef-1010\" style=\"width:100%;\"></canvas>       \r\n                    <div v-for=\"(sign, y) in letter.signs\" :key=\"'y_'+y\"  :style=\"'position:absolute;top:'+sign.pos_y+'px;left:'+sign.pos_x+'px'\">\r\n                        <div v-if=\"selectedPageIndex+1 == sign.page\" :id=\"'signature_'+y\" >\r\n                            <button v-if=\"!sign?.url\" @click=\"addSignature(y)\" class=\"btn btn-sm btn-secondary shadow\">Signature Placeholder</button>\r\n                            <!-- <button v-else @click=\"undo(sign)\" class=\"btn btn-sm btn-dark mt-3\">Undo</button>                                 -->\r\n                        </div>                         \r\n                    </div>                      \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div v-if=\"loadingStatus<100\" class=\"justify-content-center align-items-center w-100\" style=\"height:100%;\" :class=\"{'d-flex':loadingStatus < 100,'d-none':loadingStatus >= 100}\">\r\n        <CircleProgress  :value=\"loadingStatus\" ></CircleProgress>\r\n    </div>\r\n    <Transition  name=\"fade\">\r\n        <div v-if=\"showModal2\">\r\n            <div class=\"modal-overlay\" style=\"z-index: 5002;\" @click=\"showModal2 =false\"></div>\r\n            <div class=\"modal-custom\" style=\"z-index: 5003;\">         \r\n            <div class=\"modal-body\">                \r\n                    <SignatureModal @getSign=\"handleFileUpload\" ></SignatureModal>                \r\n            </div>\r\n            </div>\r\n        </div>\r\n    </Transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as pdfjsLib from \"pdfjs-dist\";\r\nimport pdfjsWorker from \"pdfjs-dist/build/pdf.worker.entry\";  \r\n\r\nimport \"jquery-ui-dist/jquery-ui\";\r\nimport { showModal } from \"@/plugins/modal\";\r\nimport CircleProgress from '@/components/Global/CircleProgress.vue'\r\nimport SignatureModal from '@/components/SignatureModal.vue'\r\nlet pdfDocument = null;\r\n\r\nexport default {\r\n    props:['letter'],\r\n    components:{\r\n        CircleProgress,\r\n        SignatureModal\r\n    },\r\n    data() {\r\n        return {\r\n            showModal2:false,\r\n            loadingStatus:1,\r\n            pdfPages:null,\r\n            selectedPageIndex:0,            \r\n            getSigns:'',            \r\n            letters:'',            \r\n            signs:[],\r\n            signIndex:0,\r\n            pdfScale:3,\r\n            driverConfig:null,\r\n            canvasHistory:[],\r\n            canvasIndex:null      \r\n        }       \r\n    },\r\n    created(){\r\n    },\r\n    mounted(){\r\n        this.$nextTick(()=>{\r\n            this.signs = this.letter.signs\r\n            this.selectLetter(this.letter.url || this.letter.template)\r\n        })\r\n    },\r\n    watch:{\r\n        loadingStatus:function (nnew){    \r\n            if(nnew>=100){\r\n                this.$emit('loaded', nnew )\r\n            }        \r\n        }\r\n    },\r\n    methods:{\r\n      async  addSignature(index){\r\n                this.signIndex = index\r\n                if(window.driverObj){\r\n                    this.driverConfig = window.driverObj.getConfig()\r\n                    window.driverObj.destroy();\r\n                }\r\n                this.showModal2 = true\r\n               /*  const res = await showModal({\r\n                    title:'Select Method',\r\n                    text:'Ensure image size is 100px X 50px or it relative ratio',\r\n                    selectOptions:[\r\n                        'Upload',\r\n                        'Draw'\r\n                    ]\r\n                })                  \r\n                if(res =='Upload'){\r\n                    this.$refs['myFileInput'].click()\r\n                }   */           \r\n        },\r\n        handleFileUpload(event) {         \r\n            this.showModal2 = false      \r\n            let sign = this.signs[this.signIndex];  \r\n            sign.url = event       \r\n            this.$emit('attachSignature', sign);          \r\n        },\r\n    \r\n        undo(sign) {\r\n            sign.url = null\r\n            this.$emit('undoAttach', true);\r\n       /*  if (this.canvasIndex > -1) {\r\n            const prevState = this.canvasHistory[this.canvasIndex];\r\n            this.canvasIndex -= 1;\r\n            const canvas = this.$refs['pageCanvasRef-1010'];\r\n            const ctx = canvas.getContext('2d');\r\n            const img = new Image();\r\n\r\n            img.onload = () => {\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            ctx.drawImage(img, 0, 0);\r\n            };\r\n\r\n            img.src = prevState;\r\n        } */\r\n        },\r\n        async selectPage(pageIndex){\r\n                if(this.selectedPageIndex != pageIndex){\r\n                    this.selectedPageIndex = pageIndex\r\n                    pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;        \r\n                    this.initiatOnePage(pageIndex+1, 'pageCanvasRef-1010', this.pdfScale)\r\n            }\r\n        },\r\n        async initiatOnePage(pageIndex, canvasRef, scale= 0.4){      \r\n                                       \r\n            await pdfDocument.getPage(pageIndex).then(async (page) => {               \r\n                let canvas;\r\n                if (canvasRef === 'pageCanvasRef-1010') {\r\n                    canvas = document.getElementById('pageCanvasRef-1010'); // Corrected typo here\r\n                } else {\r\n                    canvas = this.$refs[canvasRef][0]; \r\n                }\r\n\r\n                const context = canvas.getContext(\"2d\");        \r\n                const viewport = page.getViewport({ scale: scale });\r\n                canvas.height = viewport.height;\r\n                canvas.width = viewport.width;\r\n                await page.render({\r\n                canvasContext: context,\r\n                viewport,\r\n                enableWebGL: false,\r\n                });\r\n                return true;\r\n            })  \r\n            return true;\r\n        },\r\n        async selectLetter(url=null){\r\n       \r\n            \r\n            try{          \r\n                await this.loadPdf(url);\r\n                \r\n                    pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;                  \r\n\r\n                    this.loadingStatus = 0; \r\n                    setTimeout(async ()=>{\r\n                        for (let n = 0; n < this.pdfPages?.length; n++) {\r\n                            await this.initiatOnePage(n + 1, 'pagePrevCanvas_1010' + n, 0.3);\r\n\r\n                            if (n === 0) {\r\n                                await this.initiatOnePage(1, 'pageCanvasRef-1010', this.pdfScale);\r\n                            }\r\n                            //update loading status                           \r\n                            this.loadingStatus = Math.ceil(((n + 1) / this.pdfPages.length) * 100);\r\n                            await new Promise(resolve => setTimeout(resolve, 100)); // 100ms delay\r\n                        }\r\n                    },1000)\r\n                }catch(e){                        \r\n                    showModal({title:'Failed to load Letter',text:'Please check you network'})\r\n                }   \r\n        },\r\n        async loadPdf(url) {        \r\n                \r\n                try{\r\n                    pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n                        const loadingTask = pdfjsLib.getDocument({\r\n                        url:url,\r\n                    });\r\n                    \r\n                    pdfDocument = await loadingTask.promise;       \r\n                    this.pdfPages = Array.from(\r\n                        { length: pdfDocument.numPages },\r\n                        (_, pageIndex) => pdfDocument.getPage(pageIndex + 1)\r\n                        );    \r\n            }catch(e){\r\n                console.log(e)\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n.modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n    z-index: 101;\r\n  }\r\n  \r\n  .modal-custom {\r\n    position: fixed;\r\n    top: 45%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 300px !important;\r\n    height: 300px;\r\n    background-color: white;\r\n    border-radius: 5px;\r\n    z-index: 5000;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  \r\n</style>\r\n","<template>\r\n  <div class=\"main-progress-cbar\">\r\n    <div class=\"progress-circle \" :class=\"{'over50':value>50}\">\r\n      <span >{{value}}%</span>\r\n\r\n      <div class=\"left-half-clipper\">\r\n        <div class=\"first50-bar\"></div>\r\n        <div class=\"value-bar\" :style=\"'transform: rotate('+Math.ceil(value/100 * 360) +'deg)'\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n    export default{\r\n        props:{\r\n            value:{\r\n                type:Number,\r\n                default:0\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n.progress-circle {\r\n  font-size: 20px;\r\n  margin: 20px;\r\n  position: relative;\r\n  padding: 0;\r\n  width: 5em;\r\n  height: 5em;\r\n  background-color: #f2e9e1;\r\n  border-radius: 50%;\r\n  line-height: 5em;\r\n}\r\n\r\n.progress-circle:after {\r\n  border: none;\r\n  position: absolute;\r\n  top: 0.35em;\r\n  left: 0.35em;\r\n  text-align: center;\r\n  display: block;\r\n  border-radius: 50%;\r\n  width: 4.3em;\r\n  height: 4.3em;\r\n  background-color: white;\r\n  content: \" \";\r\n}\r\n\r\n.progress-circle span {\r\n  position: absolute;\r\n  line-height: 5em;\r\n  width: 5em;\r\n  text-align: center;\r\n  display: block;\r\n  color: #53777a;\r\n  z-index: 2;\r\n}\r\n.left-half-clipper {\r\n  border-radius: 50%;\r\n  width: 5em;\r\n  height: 5em;\r\n  position: absolute;\r\n  clip: rect(0, 5em, 5em, 2.5em);\r\n}\r\n\r\n.progress-circle.over50 .left-half-clipper {\r\n  clip: rect(auto, auto, auto, auto);\r\n}\r\n.value-bar {\r\n  position: absolute;\r\n  clip: rect(0, 2.5em, 5em, 0);\r\n  width: 5em;\r\n  height: 5em;\r\n  border-radius: 50%;\r\n  border: 0.45em solid #53777a;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.progress-circle.over50 .first50-bar {\r\n  position: absolute;\r\n  clip: rect(0em, 5em, 5em, 2.5em);\r\n  background-color: #53777a;\r\n  border-radius: 50%;\r\n  width: 5em;\r\n  height: 5em;\r\n}\r\n\r\n/* Progress bar rotation position */\r\n.progress-circle.p0 .value-bar {\r\n  display: none;\r\n}\r\n.progress-circle.p1 .value-bar {\r\n  transform: rotate(4deg);\r\n}\r\n</style>","import { render } from \"./CircleProgress.vue?vue&type=template&id=b158b46c&scoped=true\"\nimport script from \"./CircleProgress.vue?vue&type=script&lang=js\"\nexport * from \"./CircleProgress.vue?vue&type=script&lang=js\"\n\nimport \"./CircleProgress.vue?vue&type=style&index=0&id=b158b46c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b158b46c\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"px-3 row py-1\">\r\n        <div class=\"col-md-12 bg-light d-flex\">\r\n            <button :style=\"tab === 1 ? { borderBottom: '2px solid #FAC515' } : {}\" @click=\"selectTab(1)\"\r\n                :disabled=\"tab == 1\" class=\"d-flex flex-column btn  justify-content-center align-items-center\">\r\n                <img src=\"@/assets/images/pen.svg\" alt=\"\">\r\n                <span>Draw</span>\r\n            </button>\r\n            <button :style=\"tab === 2 ? { borderBottom: '2px solid #FAC515' } : {}\" @click=\"selectTab(2)\"\r\n                :disabled=\"tab == 2\" class=\"d-flex flex-column btn justify-content-center align-items-center\">\r\n                <svg width=\"20\" height=\"19\" viewBox=\"0 0 20 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                        d=\"M11.6171 11.0458C10.9022 11.7671 10.4478 12.7061 10.3257 13.7144H2.06286C1.81781 13.7113 1.58383 13.6119 1.41161 13.4375C1.2394 13.2632 1.14284 13.028 1.14286 12.7829V12.6458L4.77143 9.05721C5.04213 8.79403 5.39881 8.63752 5.77578 8.61652C6.15274 8.59552 6.5246 8.71144 6.82286 8.94293L7.74286 9.84578L7.81143 9.90293C7.99707 10.0364 8.21993 10.1082 8.44857 10.1082C8.67721 10.1082 8.90008 10.0364 9.08571 9.90293L12.0514 6.98864C12.4094 6.62505 12.8606 6.3671 13.3556 6.24312C13.8505 6.11913 14.37 6.13389 14.8571 6.28578C15.1638 6.38708 15.4501 6.54185 15.7029 6.74293L16.0114 7.04578V7.42864C16.0114 7.58019 16.0716 7.72554 16.1788 7.8327C16.286 7.93987 16.4313 8.00007 16.5829 8.00007C16.7344 8.00007 16.8798 7.93987 16.9869 7.8327C17.0941 7.72554 17.1543 7.58019 17.1543 7.42864V2.06293C17.1535 1.79031 17.0989 1.52053 16.9936 1.2691C16.8882 1.01767 16.7342 0.789538 16.5403 0.597834C16.3465 0.40613 16.1167 0.254629 15.8641 0.152044C15.6115 0.0494582 15.3412 -0.00218917 15.0686 7.11049e-05H2.06286C1.51668 0.00307215 0.993725 0.221372 0.607513 0.607584C0.221301 0.993796 0.00300105 1.51675 2.39276e-10 2.06293V12.7829C-8.31984e-06 13.3311 0.216962 13.857 0.603498 14.2456C0.990034 14.6343 1.5147 14.8542 2.06286 14.8572H10.3257C10.4576 15.8819 10.9326 16.8317 11.6735 17.5518C12.4143 18.272 13.3772 18.7199 14.4052 18.8226C15.4333 18.9253 16.4658 18.6768 17.3345 18.1175C18.2031 17.5582 18.8567 16.7212 19.1887 15.7428C19.5207 14.7645 19.5115 13.7025 19.1626 12.73C18.8137 11.7576 18.1457 10.932 17.2675 10.3878C16.3893 9.8437 15.3526 9.61308 14.3265 9.7336C13.3004 9.85412 12.3454 10.3187 11.6171 11.0515V11.0458ZM2.06286 1.14293H15.0686C15.1901 1.14218 15.3107 1.16538 15.4233 1.2112C15.5359 1.25703 15.6383 1.32459 15.7248 1.41002C15.8113 1.49545 15.8801 1.59708 15.9274 1.70911C15.9746 1.82113 15.9993 1.94136 16 2.06293V5.59436C15.7482 5.4355 15.4775 5.3088 15.1943 5.21721C14.5146 4.99803 13.788 4.96896 13.093 5.13313C12.398 5.29731 11.7612 5.64849 11.2514 6.14864L8.43429 8.92007L8.16572 8.65721L7.74286 8.24578C7.23488 7.75625 6.5569 7.48273 5.85143 7.48273C5.14596 7.48273 4.46797 7.75625 3.96 8.24578L1.14286 11.0401V2.06293C1.14436 1.81939 1.24177 1.58626 1.41398 1.41405C1.58618 1.24184 1.81932 1.14443 2.06286 1.14293ZM17.2743 16.7029C16.7946 17.182 16.1837 17.5082 15.5187 17.6402C14.8538 17.7722 14.1646 17.704 13.5383 17.4444C12.9121 17.1848 12.3768 16.7454 12.0003 16.1816C11.6237 15.6179 11.4227 14.9552 11.4227 14.2772C11.4227 13.5993 11.6237 12.9365 12.0003 12.3728C12.3768 11.8091 12.9121 11.3696 13.5383 11.11C14.1646 10.8504 14.8538 10.7823 15.5187 10.9142C16.1837 11.0462 16.7946 11.3724 17.2743 11.8515C17.5931 12.1699 17.846 12.5481 18.0185 12.9643C18.191 13.3805 18.2798 13.8266 18.2798 14.2772C18.2798 14.7278 18.191 15.1739 18.0185 15.5902C17.846 16.0064 17.5931 16.3845 17.2743 16.7029Z\"\r\n                        fill=\"black\" />\r\n                </svg>\r\n                <span>Upload</span>\r\n            </button>\r\n        </div>        \r\n        <div class=\"col-md-12\">\r\n            <div class=\"d-flex w-100 mb-3 row\">\r\n                <div v-if=\"tab == 1\" class=\"col-md-12 py-4\">\r\n                    <div class=\"d-flex justify-content-between align-items-center \">\r\n                        <h4>Signature</h4>\r\n                        <span class=\"mx-1 text-info\" @click=\"clearSignature\" style=\"cursor: pointer;\">Clear</span>\r\n                    </div>\r\n                    <div id=\"parentDiv\" style=\"border: 1px dashed #ccc;height: 100px;\" ref=\"signatureCanvas\" width=\"100%\"\r\n                        height=\"150px\"></div>\r\n                    <div class=\"border d-none\" style=\"width:100%;height:100px\">\r\n                        <img ref=\"signature\" src=\"\" alt=\"\" />\r\n                    </div>\r\n                </div>\r\n                <div v-if=\"tab == 2\" class=\"col-md-12 py-4\">\r\n                    <div class=\"d-flex justify-content-between align-items-center \">\r\n                        <h6 class=\"mb-2\">Upload Image</h6>\r\n                        <span class=\"mx-1 text-info\" @click=\"$refs.file = null\" style=\"cursor: pointer;\">Clear</span>\r\n                    </div>\r\n                    <div @dragover=\"dragover\" @dragleave=\"dragleave\" @drop=\"drop\"\r\n                        class=\"mx-auto d-flex  justify-content-center align-items-center\"\r\n                        :style=\"'border:1px solid #bbb ;border-radius:20px;padding:25px;width:100%;height:150px;'\">\r\n                        <h6 v-if=\"isDragging\" style=\"border:2px dashed #bbb; border-radius:10px; height:inherit;\"\r\n                            class=\"w-100 d-flex justify-content-center align-items-center\">Draging</h6>\r\n                        <div v-else class=\"w-75 text-center py-4\">\r\n                            <h6 class=\"text-center  text-secondary mb-1 mt-2\">Drag and Drop</h6>\r\n                            <p class=\"mb-2\">or</p>\r\n                            <button v-if=\"!signUrl\" @click=\"$refs['file'].click()\"\r\n                                class=\"btn btn-warning mx-auto d-inline-block btn-sm\">Choose Image</button>\r\n                            <div v-else>\r\n                                <img style=\"width:100px;height:50px\" :src=\"signUrl\" />\r\n                            </div>\r\n                        </div>\r\n                        <input type=\"file\" @change=\"onChange($event)\" ref=\"file\" accept=\".png\" style=\"display:none\">\r\n                    </div>\r\n                </div>         \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <button class=\"btn btn-sm d-inline-block mx-1 btn-warning\" style=\"width: 90px;\"\r\n                    @click=\"clearSignature\">Cancel</button>\r\n                <button style=\"width: 90px;\" class=\"btn btn-sm d-inline-block mx-1 btn-warning\"\r\n                @click=\"useSignature\">Ok</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-2\"></div>\r\n    </div>\r\n</template>\r\n    \r\n<script>\r\nimport p5 from \"p5\";\r\nimport { useUserStore } from \"@/stores/user\";\r\nvar sketch = null;\r\nexport default {\r\n    name: \"signatureView\",\r\n    data() {\r\n        return {\r\n            tab: 1,\r\n            store: useUserStore(),\r\n            signUrl: null,\r\n        };\r\n    },\r\n    methods: {\r\n\r\n        dragover(e) {\r\n            e.preventDefault();\r\n            this.isDragging = true;\r\n        },\r\n        dragleave() {\r\n            this.isDragging = false;\r\n        },\r\n        drop(e) {\r\n            e.preventDefault();\r\n            this.$refs.file.files = e.dataTransfer.files;\r\n            const event = { target: this.$refs.file }\r\n            this.onChange(event);\r\n            this.isDragging = false;\r\n        },\r\n        selectTab(index) {\r\n            this.tab = index\r\n        },\r\n        async onChange(event) {\r\n            const file = event.target.files[0];\r\n            if (file) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => {\r\n                    const fileURL = URL.createObjectURL(file); // Create a URL for the file                 \r\n                    this.signUrl = fileURL;\r\n                };\r\n                reader.onerror = (error) => {\r\n                    console.log('FileReader error:', error);\r\n                };\r\n                await reader.readAsDataURL(file);\r\n            }\r\n        },\r\n        async useSignature() {\r\n            if (this.tab == 2) {\r\n                this.$emit('getSign', this.signUrl)\r\n            } else {\r\n                await this.captureSignature()\r\n                this.$emit('getSign', this.signUrl)\r\n            }\r\n        },\r\n        initializeCanvas() {\r\n            sketch = new p5(this.drawSignature, this.$refs.signatureCanvas);\r\n        },\r\n        drawSignature(p) {\r\n            let drawing = false;\r\n            let lastX = 0;\r\n            let lastY = 0;\r\n\r\n            p.setup = () => {\r\n                const parentDiv = document.getElementById('parentDiv'); // Replace 'parentDiv' with the actual ID of the parent div\r\n                p.createCanvas(parentDiv.clientWidth, 100);\r\n                p.frameRate(3);\r\n                p.strokeWeight(2);\r\n                p.noFill();\r\n                p.background(255);\r\n            };\r\n\r\n            p.mousePressed = () => {\r\n                drawing = true;\r\n                lastX = p.mouseX;\r\n                lastY = p.mouseY;\r\n            };\r\n\r\n            p.mouseReleased = () => {\r\n                drawing = false;\r\n            };\r\n            p.touchMoved = () => {\r\n                p.line(p.mouseX, p.mouseY, lastX, lastY);\r\n                lastX = p.mouseX;\r\n                lastY = p.mouseY;\r\n                return false;\r\n            };\r\n            p.draw = () => {\r\n                if (drawing) {\r\n                    p.line(lastX, lastY, p.mouseX, p.mouseY);\r\n                    lastX = p.mouseX;\r\n                    lastY = p.mouseY;\r\n                    return false;\r\n                }\r\n            };\r\n        },\r\n        clearSignature() {\r\n            sketch.clear();\r\n            sketch.background(255);\r\n        },\r\n        getSignatureData() {\r\n            return this.$refs.signatureCanvas.toDataURL();\r\n        },\r\n        async captureSignature() {                        \r\n            const canvas = this.$refs.signatureCanvas.getElementsByTagName('canvas')[0];                        \r\n            this.signUrl = canvas.toDataURL();\r\n        },\r\n        removeImageBlanks(imageObject) {\r\n            let imgWidth = imageObject.width;\r\n            let imgHeight = imageObject.height;\r\n            var canvas = document.createElement('canvas');\r\n            canvas.setAttribute(\"width\", imgWidth);\r\n            canvas.setAttribute(\"height\", imgHeight);\r\n            var context = canvas.getContext('2d');\r\n            context.drawImage(imageObject, 0, 0);\r\n\r\n            var imageData = context.getImageData(0, 0, imgWidth, imgHeight),\r\n                data = imageData.data,\r\n                getRBG = function (x, y) {\r\n                    var offset = imgWidth * y + x;\r\n                    return {\r\n                        red: data[offset * 4],\r\n                        green: data[offset * 4 + 1],\r\n                        blue: data[offset * 4 + 2],\r\n                        opacity: data[offset * 4 + 3]\r\n                    };\r\n                },\r\n                isWhite = function (rgb) {\r\n                    // many images contain noise, as the white is not a pure #fff white\r\n                    return rgb.red > 200 && rgb.green > 200 && rgb.blue > 200;\r\n                },\r\n                scanY = function (fromTop) {\r\n                    var offset = fromTop ? 1 : -1;\r\n\r\n                    // loop through each row\r\n                    for (var y = fromTop ? 0 : imgHeight - 1; fromTop ? (y < imgHeight) : (y > -1); y += offset) {\r\n\r\n                        // loop through each column\r\n                        for (var x = 0; x < imgWidth; x++) {\r\n                            var rgb = getRBG(x, y);\r\n                            if (!isWhite(rgb)) {\r\n                                if (fromTop) {\r\n                                    return y;\r\n                                } else {\r\n                                    return Math.min(y + 1, imgHeight);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return null; // all image is white\r\n                },\r\n                scanX = function (fromLeft) {\r\n                    var offset = fromLeft ? 1 : -1;\r\n\r\n                    // loop through each column\r\n                    for (var x = fromLeft ? 0 : imgWidth - 1; fromLeft ? (x < imgWidth) : (x > -1); x += offset) {\r\n\r\n                        // loop through each row\r\n                        for (var y = 0; y < imgHeight; y++) {\r\n                            var rgb = getRBG(x, y);\r\n                            if (!isWhite(rgb)) {\r\n                                if (fromLeft) {\r\n                                    return x;\r\n                                } else {\r\n                                    return Math.min(x + 1, imgWidth);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return null; // all image is white\r\n                };\r\n\r\n            var cropTop = scanY(true),\r\n                cropBottom = scanY(false),\r\n                cropLeft = scanX(true),\r\n                cropRight = scanX(false),\r\n                cropWidth = cropRight - cropLeft,\r\n                cropHeight = cropBottom - cropTop;\r\n\r\n            canvas.setAttribute(\"width\", cropWidth);\r\n            canvas.setAttribute(\"height\", cropHeight);\r\n            // finally crop the guy\r\n            canvas.getContext(\"2d\").drawImage(imageObject,\r\n                cropLeft, cropTop, cropWidth, cropHeight,\r\n                0, 0, cropWidth * 0.50, cropHeight * 0.50);\r\n\r\n            return canvas.toDataURL();\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initializeCanvas();\r\n    },\r\n};\r\n</script>\r\n    ","import { render } from \"./SignatureModal.vue?vue&type=template&id=76163b6b\"\nimport script from \"./SignatureModal.vue?vue&type=script&lang=js\"\nexport * from \"./SignatureModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PdfPreview.vue?vue&type=template&id=f014b472\"\nimport script from \"./PdfPreview.vue?vue&type=script&lang=js\"\nexport * from \"./PdfPreview.vue?vue&type=script&lang=js\"\n\nimport \"./PdfPreview.vue?vue&type=style&index=0&id=f014b472&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AgreementLetter.vue?vue&type=template&id=c9ea18ea&scoped=true\"\nimport script from \"./AgreementLetter.vue?vue&type=script&lang=js\"\nexport * from \"./AgreementLetter.vue?vue&type=script&lang=js\"\n\nimport \"./AgreementLetter.vue?vue&type=style&index=0&id=c9ea18ea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9ea18ea\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","$data","currentTab","_normalizeStyle","selectedLetterIndex","_hoisted_4","$options","updateStatus","letters","_normalizeClass","disabled","receiver_status","_hoisted_5","previewLetter","url","reset","_hoisted_6","keyData","show","length","_hoisted_7","innerHTML","_ctx","$globals","icons","noDocs","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","lett","l","key","_createBlock","_component_LetterCard","onView","OpenLetterCard","letter","_hoisted_13","id","onDblclick","preview","ref","height","_hoisted_16","_hoisted_17","_toDisplayString","pages","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_component_PdfPreview","onUndoAttach","undoAttach","onAttachSignature","signagureData","onLoaded","previewLoaded","F","D","e","animate","allowClose","overlayOpacity","smoothScroll","disableActiveInteraction","showProgress","stagePadding","stageRadius","popoverOffset","showButtons","disableButtons","overlayColor","a","W","o","t","i","Q","flatMap","matches","p","Array","from","querySelectorAll","filter","getComputedStyle","pointerEvents","ae","Z","se","scrollIntoView","behavior","re","inline","block","parentElement","scrollHeight","clientHeight","getBoundingClientRect","top","left","bottom","window","innerHeight","document","documentElement","right","innerWidth","clientWidth","offsetWidth","offsetHeight","getClientRects","O","b","V","R","N","L","call","ce","le","n","f","w","x","r","y","v","width","s","J","G","de","console","warn","setAttribute","pe","ue","body","appendChild","te","target","tagName","firstElementChild","Error","U","createElementNS","classList","add","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","zIndex","position","fill","opacity","cursor","Math","min","floor","max","c","d","ve","remove","fe","getElementById","createElement","K","element","querySelector","ge","he","ie","Date","now","onHighlightStarted","onHighlighted","onDeselected","m","g","config","state","u","h","xe","P","popover","X","requestAnimationFrame","removeAttribute","we","forEach","I","cancelAnimationFrame","me","keyCode","wrapper","preventDefault","shiftKey","indexOf","activeElement","focus","ee","contains","stopPropagation","stopImmediatePropagation","addEventListener","ye","be","removeEventListener","display","C","removeChild","Pe","title","description","nextBtnText","prevBtnText","progressText","nextButton","previousButton","progress","includes","closeButton","footer","arrow","className","popoverClass","trim","k","$","B","M","T","E","onNextClick","A","onPrevClick","H","onCloseClick","S","onPopoverRender","_","oe","realWidth","realHeight","Y","elementDimensions","popoverDimensions","popoverPadding","popoverArrowDimensions","j","align","side","Ce","innerText","type","footerButtons","Se","ke","z","q","error","doneBtnText","replace","ne","isActive","refresh","drive","setConfig","setSteps","steps","getConfig","getState","getActiveIndex","isFirstStep","isLastStep","getActiveStep","getActiveElement","getPreviousElement","getPreviousStep","moveNext","movePrevious","moveTo","hasNextStep","hasPreviousStep","highlight","destroy","isOpen","pdf","$props","name","_hoisted_8","created_at","xmlns","getTextColor","status","borderRadius","viewBox","_hoisted_14","_hoisted_15","args","view","caret","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","signed_date","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","approval_date","props","Object","data","methods","this","$emit","toLowerCase","__exports__","loadingStatus","pdfPages","page","pageIndex","selectPage","selectedPageIndex","colorsHex","warningLight","padding","border","warning","margin","signs","sign","pos_y","pos_x","addSignature","_createVNode","_component_CircleProgress","value","_Transition","showModal2","_component_SignatureModal","onGetSign","handleFileUpload","ceil","Number","default","src","_imports_0","alt","tab","borderBottom","selectTab","clearSignature","$refs","file","onDragover","dragover","onDragleave","dragleave","onDrop","drop","isDragging","_hoisted_23","signUrl","click","onChange","accept","useSignature","sketch","store","useUserStore","files","dataTransfer","event","index","reader","FileReader","onload","fileURL","URL","createObjectURL","onerror","log","readAsDataURL","captureSignature","initializeCanvas","p5","drawSignature","signatureCanvas","drawing","lastX","lastY","setup","parentDiv","createCanvas","frameRate","strokeWeight","noFill","background","mousePressed","mouseX","mouseY","mouseReleased","touchMoved","line","draw","clear","getSignatureData","toDataURL","canvas","getElementsByTagName","removeImageBlanks","imageObject","imgWidth","imgHeight","context","getContext","drawImage","imageData","getImageData","getRBG","offset","red","green","blue","isWhite","rgb","scanY","fromTop","scanX","fromLeft","cropTop","cropBottom","cropLeft","cropRight","cropWidth","cropHeight","mounted","pdfDocument","components","CircleProgress","SignatureModal","getSigns","signIndex","pdfScale","driverConfig","canvasHistory","canvasIndex","created","$nextTick","selectLetter","template","watch","nnew","driverObj","undo","pdfjsLib","workerSrc","pdfjsWorker","initiatOnePage","canvasRef","scale","getPage","then","async","viewport","getViewport","render","canvasContext","enableWebGL","loadPdf","setTimeout","Promise","resolve","showModal","text","loadingTask","promise","numPages","documents","LetterCard","PdfPreview","previewing","savedLetters","owner_id","platform","pdfUploadActive","pdfUrl","signaturePosition","selectedPage","activateSign","showTextFrame","fontSize","userInfo","JSON","parse","localStorage","getItem","tour","tour2","map","item","push","driver","allowKeyboardControl","el","step","childRef","loading","blob","fetch","response","ok","formData","FormData","append","uploadResponse","postFormData","responseBody","post","message","deleteLetter","res","revokeObjectURL","splice","input","cancelText","attachSignature","pop","loadAndModifyPdf","signatureData","pdfBytes","arrayBuffer","signatureImageBytes","pdfDoc","PDFDocument","load","signatureImage","embedPng","getPages","getHeight","modifiedPdfBytes","save","modifiedPDFDataURL","Blob","university","agreement_letters","computed"],"sourceRoot":""}