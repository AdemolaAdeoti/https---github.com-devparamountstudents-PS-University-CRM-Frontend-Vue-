(self["webpackChunkuniversity_crm"]=self["webpackChunkuniversity_crm"]||[]).push([[2751],{933:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var s=n(3396),a=n(7139);const i=["disabled"],o={key:0},l=["src"],c=["innerHTML"],r=["src"],d={style:{display:"flex","align-items":"center"}};function u(e,t,n,u,p,g){return(0,s.wg)(),(0,s.iD)("button",{onMouseover:t[0]||(t[0]=e=>p.isLoading?p.hovered=!1:p.hovered=!0),onMouseout:t[1]||(t[1]=e=>p.hovered=!1),disabled:p.isLoading,onClick:t[2]||(t[2]=(...e)=>g.clicked&&g.clicked(...e)),class:(0,a.C_)({"btn-disabled view-track btn text-dark px-4 py-2 d-flex":!0,"justify-content-around":!n.showIcon,...g.buttonClasses})},[n.showIcon?((0,s.wg)(),(0,s.iD)("span",o,[""===n.iconPath?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"me-2",src:g.getIconPath(n.icon),alt:""},null,8,l)):((0,s.wg)(),(0,s.iD)("span",{key:1,innerHTML:n.iconPath,style:(0,a.j5)({fill:p.hovered?"white":"black"})},null,12,c)),(0,s._)("img",{class:"me-2",src:n.iconPath,alt:""},null,8,r)])):(0,s.kq)("",!0),(0,s._)("span",d,[n.loader?((0,s.wg)(),(0,s.iD)("span",{key:0,style:(0,a.j5)("display:"+(p.isLoading?"inline-block":"none")),class:"loader me-2"},null,4)):(0,s.kq)("",!0),(0,s._)("span",null,(0,a.zw)(n.name),1)])],42,i)}var p=n(9242);const g={props:{name:String,data:{default:""},icon:{type:String,default:""},showIcon:{type:Boolean,default:!0},iconPath:{type:String,default:""},color:{type:String,default:"#fac515"},onClick:{type:Function,default:null},loader:{type:Boolean,default:!1}},data(){return{hovered:!1,isLoading:!1}},methods:{async clicked(){this.onClick&&(this.isLoading=!0,await this.onClick(),setTimeout((()=>{this.isLoading=!1}),300)),this.$emit("onclick",this.data)},getIconPath(e){try{return""==e?n(174):n(8461)("./"+e)}catch(t){console.log(t)}}},computed:{buttonClasses(){return{"view-track2":!this.isLoading}}}},m=()=>{(0,p.sj)((e=>({"9f5f84c0":e.color})))},v=g.setup;g.setup=v?(e,t)=>(m(),v(e,t)):m;var f=g,h=n(89);const w=(0,h.Z)(f,[["render",u],["__scopeId","data-v-ad4cc3e0"]]);var y=w},2751:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var s=n(3396),a=n(7139),i=n(9242);const o={class:"px-3 mt-3"},l={class:"d-flex justify-content-between"},c=(0,s._)("div",null,[(0,s._)("h3",{class:"fw-bold"},"Student's Letters")],-1),r={class:"mx-5"},d=["src"],u=(0,s._)("p",{class:"mt-5 text-danger fs01"}," NOTE: Once you have selected a document with a specific status, please note that you cannot select another document with the same status. To proceed, you must delete the previous document with the same status type and then select a new document. ",-1),p=(0,s._)("div",{class:"bg-warning mb-3",style:{height:"1px",width:"100%"}},null,-1),g={class:"col-4"},m=(0,s._)("p",{class:"m-0 fs1 text-secondary"},"Document Name",-1),v={class:"mt-1 fs1 mb-0",style:{"text-transform":"capitalize"}},f={class:"col-2"},h=(0,s._)("p",{class:"m-0 fs1 text-secondary"},"Status Type",-1),w={class:"mt-2 fs1 mb-0"},y={class:"col-4 row"},b={class:"col-6 d-flex align-items-center"},_={class:"col-6 d-flex align-items-center"},k={class:"col-2 d-flex align-items-center"},x={key:0},L={key:1},D={class:"modal-custom"},C={class:"modal-header"},T={class:"modal-body d-flex justify-content-center align-items-center",style:{overflow:"auto"}},O={class:"ck-content",style:{height:"100%",width:"100%",display:"inline-block",padding:"31px"}},S=["innerHTML"];function j(e,t,j,M,E,P){const I=(0,s.up)("StatusIcon"),A=(0,s.up)("Button"),$=(0,s.up)("LetterTemplate");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",l,[c,(0,s._)("div",r,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>P.createLetter&&P.createLetter(...e)),class:"backgroundImage"},[(0,s._)("img",{src:n(1573),style:{height:"20px",width:"20px","margin-bottom":"2px"}},null,8,d),(0,s.Uk)(" Create Letter ")])])]),u,p,(0,s.wy)((0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(E.letters,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{class:"row w-100 px-2 py-3 bg-white shadow mb-3 rounded mx-auto",key:n},[(0,s._)("div",g,[m,(0,s._)("p",v,(0,a.zw)(t.name.replaceAll("_"," ")),1)]),(0,s._)("div",f,[h,(0,s._)("p",w,[(0,s.Wm)(I,{status:P.getStatus(t.name)},null,8,["status"])])]),(0,s._)("div",y,[(0,s._)("div",b,[(0,s.Wm)(A,{name:"Edit Letter",data:t,onOnclick:P.editLetter,iconPath:e.$globals.icons.pen},null,8,["data","onOnclick","iconPath"])]),(0,s._)("div",_,[(0,s.Wm)(A,{name:"View Letter",data:t,onOnclick:P.viewLetter,iconPath:e.$globals.icons.eye},null,8,["data","onOnclick","iconPath"])])]),(0,s._)("div",k,[(0,s.Wm)(A,{name:"Delete Letter",data:t,onOnclick:P.deleteLetter,color:"red",iconPath:e.$globals.icons.delete},null,8,["data","onOnclick","iconPath"])])])))),128))],512),[[i.F8,!E.editing]]),E.editing?((0,s.wg)(),(0,s.iD)("div",x,[(0,s.Wm)($,{onOncancel:P.cancelEditing,onOnupdated:P.updated,update:E.updatingLetter,content:E.editorData,type:E.letterType,letters:E.letters},null,8,["onOncancel","onOnupdated","update","content","type","letters"])])):(0,s.kq)("",!0),E.showModal?((0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("div",{class:"modal-overlay",onClick:t[1]||(t[1]=(...e)=>P.closeModal&&P.closeModal(...e))}),(0,s._)("div",D,[(0,s._)("div",C,[(0,s._)("button",{class:"modal-close",onClick:t[2]||(t[2]=(...e)=>P.closeModal&&P.closeModal(...e))},"×")]),(0,s._)("div",T,[(0,s._)("div",O,[(0,s._)("div",{innerHTML:E.editorData},null,8,S)])])])])):(0,s.kq)("",!0)])}var M=n(708);const E=e=>((0,s.dD)("data-v-526fda9e"),e=e(),(0,s.Cn)(),e),P=E((()=>(0,s._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},null,-1))),I=[P];function A(e,t,n,i,o,l){return(0,s.wg)(),(0,s.iD)("span",null,[((0,s.wg)(),(0,s.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",class:"bi bi-circle custom-icon",style:(0,a.j5)({backgroundColor:l.getIconColor(n.status),fill:l.getIconColor(n.status)}),viewBox:"0 0 16 16"},I,4)),(0,s.Uk)(" "+(0,a.zw)(n.status),1)])}var $={props:["status"],methods:{getIconColor(e){return"in review"==e.toLowerCase()||""==e?"#009aff":"enrolled"===e.toLowerCase()?"#198754":"accepted"===e.toLowerCase()?"#ffb300":"rejected"===e.toLowerCase()?"#DC3545":"#555555"}}},B=n(89);const U=(0,B.Z)($,[["render",A],["__scopeId","data-v-526fda9e"]]);var V=U,z=n(933);const R={class:"row w-90 mx-auto"},W={class:"px-4 py-3"},F=(0,s._)("b",{class:"me-2"},"Variables: ",-1),Z=(0,s._)("code",null,"{full_name}, {program_name}, {program_code}, {program_type}, {program_award}, {program_faculty}, {study_type}, {study_language}, {program_duration}, {program_ECTS}, {learning_mode}, {application_fee_amount} {tuition_fee_amount} ",-1),H={class:"bg-white"},K={class:"d-flex justify-content-between mt-2 mb-5"},Y=(0,s._)("br",null,null,-1);function q(e,t,n,a,i,o){const l=(0,s.up)("DropDown"),c=(0,s.up)("ckeditor"),r=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)("div",R,[(0,s._)("div",W,[(0,s._)("div",null,[(0,s._)("div",null,[n.update?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{key:0,modelValue:i.letterType,"onUpdate:modelValue":t[0]||(t[0]=e=>i.letterType=e),class:"w-50",options:o.filterLetterTypes(),optionLabel:"name",optionValue:"value"},null,8,["modelValue","options"]))]),F,Z,(0,s._)("div",H,[(0,s.Wm)(c,{editor:i.editor,modelValue:i.editorData,"onUpdate:modelValue":t[1]||(t[1]=e=>i.editorData=e),onReady:o.onReady,config:i.editorConfig},null,8,["editor","modelValue","onReady","config"])])])]),(0,s._)("div",K,[(0,s.Wm)(r,{onOnclick:o.back,name:"Cancel"},null,8,["onOnclick"]),(0,s.Wm)(r,{onOnclick:o.saveLetter,name:"Save Changes"},null,8,["onOnclick"])]),Y])}n(7658);var N=n(4411),G=n.n(N),J=n(8895),Q={name:"GeneralSettings",props:{letters:Array,update:{default:!1},content:{default:""},type:{default:""}},components:{Button:z.Z},data(){return{letterType:this.type,lettersType:[{name:"Acceptance Letter",value:"acceptance_letter"},{name:"Conditional Letter",value:"conditional_letter"},{name:"Rejection Letter",value:"rejection_letter"}],editor:G(),editorData:"",editorConfig:{height:400,fontSize:{options:[9,10,11,12,13,14,15,16,17,18,24,36,{model:"48px",title:"Huge",class:"ck-heading_font-size_huge"}]},ckfinder:{}}}},methods:{filterLetterTypes(){return this.lettersType.filter((e=>!this.letters.some((t=>t.name===e.value))))},async saveLetter(){if(""==this.letterType)return(0,J.K)({title:`<span style="fill:#FF4C51">${this.$globals.icons.warning}</span>`,text:"Select a letter type",confirmText:"Ok"}),!1;let e=await(0,J.K)({title:"Are You Sure?",text:"Please ensure that all data has been properly updated.",confirmText:"Yes",cancelText:"No"});if(!e)return!1;let t=await(0,M.v_)("configuration/save",{value:this.editorData,name:this.letterType,type:"letter"});t?.message&&(await(0,J.K)({title:t.message,text:"Your Student’s letter has been updated successfully",icon:"success"}),this.$emit("onupdated",!0))},onReady(e){this.update&&(this.editorData=this.content),e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement(),e.plugins.get("FileRepository").createUploadAdapter=e=>new X(e));const t=e.config.get("toolbar");t.push("indent"),t.push("outdent"),t.push("styles"),e.ui.view.toolbar.update()},back(){this.$emit("oncancel",!0)}},mounted(){}};class X{constructor(e){this.loader=e}async upload(){const e=new FormData;return this.loader.file.then((async t=>{e.append("file",t),e.append("folder_name","Programs");let n=await(0,M.nv)("file_upload",e,!0);return{default:n.responseBody}}))}}const ee=(0,B.Z)(Q,[["render",q]]);var te=ee,ne={name:"GeneralSettings",components:{StatusIcon:V,Button:z.Z,LetterTemplate:te},data(){return{globals:this.$globals,letterType:"",lettersType:[{name:"Acceptance Letter",value:"acceptance_letter"},{name:"Conditional Letter",value:"conditional_letter"},{name:"Rejection Letter",value:"rejection_letter"}],letters:[],editorData:"",editing:!1,updatingLetter:!1,showModal:!1,pdfUrl:""}},async created(){await this.fetchLetter()},methods:{async deleteLetter(e){let t=await(0,J.K)({title:`<span class='d-flex align-items-center' style='fill:#191C1C'>${this.$globals.icons.delete} <span class='ms-1'>Delete</span></span>`,text:"Are you sure you want to Delete letter",confirmText:"Yes",cancelText:"Cancel",cancelOutline:"warning",cancelBackground:"white"});if(!t)return!1;t=await(0,M.v_)("configuration/delete",{id:e.id}),(0,J.K)({title:t.message,text:"Your Student’s letter has been updated successfully",confirmText:"Ok",icon:"success"})},closeModal(){this.showModal=!1,this.pdfUrl=""},updated(){this.cancelEditing(),this.fetchLetter()},cancelEditing(){this.editing=!1,this.updatingLetter=!1,this.letterType="",this.editorData=""},editLetter(e){this.editing=!0,this.updatingLetter=!0,this.letterType=e.name,this.editorData=e.value},createLetter(){this.editing=!0,this.updatingLetter=!1,this.letterType="",this.editorData=""},viewLetter(e){this.editorData=e.value,this.showModal=!0},getStatus(e){let t=e.replaceAll("_"," ");return t.includes("conditional")?"Accepted":t.includes("rejection")?"Rejected":t.includes("acceptance")?"Enrolled":""},async fetchLetter(){let e=await(0,M.U2)("configuration?type=letter");e?.message&&(this.letters=e.message)}},mounted(){}};const se=(0,B.Z)(ne,[["render",j]]);var ae=se},8461:function(e,t,n){var s={"./arrow-1.svg":5204,"./arrow-2.svg":4094,"./arrow-3.svg":5631,"./arrow-4.svg":1440,"./avata-inbox.svg":7389,"./avater-1.svg":9686,"./avater-2.svg":8087,"./avater.svg":5052,"./chat.svg":6145,"./dash-b-black.svg":7639,"./dash-b-o.svg":1696,"./download.svg":8109,"./esma.png":7492,"./help-support-black.svg":7478,"./help-support-o.svg":3814,"./inbox-black.svg":5570,"./inbox-o.svg":8266,"./john-doe.png":1031,"./kamal.png":3122,"./katemoris.png":9328,"./letter.svg":3002,"./logout.svg":1064,"./megaphone-o.svg":9370,"./megaphone.svg":3693,"./notificaition.svg":5384,"./settings.svg":4574,"./student-application-black.svg":174,"./student-application-o.svg":2770,"./student-tracking-black.svg":9060,"./student-tracking-o.svg":5492,"./view.svg":7594};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=i,e.exports=a,a.id=8461},1573:function(e,t,n){"use strict";e.exports=n.p+"img/add-outline.9cb047ed.svg"},5204:function(e,t,n){"use strict";e.exports=n.p+"img/arrow-1.365c3760.svg"},4094:function(e,t,n){"use strict";e.exports=n.p+"img/arrow-2.45d62ee4.svg"},5631:function(e,t,n){"use strict";e.exports=n.p+"img/arrow-3.5be852b6.svg"},1440:function(e,t,n){"use strict";e.exports=n.p+"img/arrow-4.c34feee3.svg"},7389:function(e,t,n){"use strict";e.exports=n.p+"img/avata-inbox.bbb5b8c1.svg"},6145:function(e,t,n){"use strict";e.exports=n.p+"img/chat.8683dc08.svg"},7639:function(e,t,n){"use strict";e.exports=n.p+"img/dash-b-black.25af8843.svg"},1696:function(e,t,n){"use strict";e.exports=n.p+"img/dash-b-o.092dee3b.svg"},8109:function(e,t,n){"use strict";e.exports=n.p+"img/download.1c7f4301.svg"},7478:function(e,t,n){"use strict";e.exports=n.p+"img/help-support-black.ac0dc255.svg"},3814:function(e,t,n){"use strict";e.exports=n.p+"img/help-support-o.8c9120e8.svg"},5570:function(e,t,n){"use strict";e.exports=n.p+"img/inbox-black.3e34d08a.svg"},8266:function(e,t,n){"use strict";e.exports=n.p+"img/inbox-o.b51355f9.svg"},3002:function(e,t,n){"use strict";e.exports=n.p+"img/letter.21e47727.svg"},1064:function(e,t,n){"use strict";e.exports=n.p+"img/logout.622ff59f.svg"},9370:function(e,t,n){"use strict";e.exports=n.p+"img/megaphone-o.6194ee2b.svg"},3693:function(e,t,n){"use strict";e.exports=n.p+"img/megaphone.0197711b.svg"},5384:function(e,t,n){"use strict";e.exports=n.p+"img/notificaition.7deb7091.svg"},4574:function(e,t,n){"use strict";e.exports=n.p+"img/settings.4dfd1aae.svg"},174:function(e,t,n){"use strict";e.exports=n.p+"img/student-application-black.ef6f531f.svg"},2770:function(e,t,n){"use strict";e.exports=n.p+"img/student-application-o.b554e1e1.svg"},9060:function(e,t,n){"use strict";e.exports=n.p+"img/student-tracking-black.a3a049a9.svg"},5492:function(e,t,n){"use strict";e.exports=n.p+"img/student-tracking-o.0d6b3935.svg"},7594:function(e,t,n){"use strict";e.exports=n.p+"img/view.aad77383.svg"}}]);
//# sourceMappingURL=2751.01310f1a.js.map