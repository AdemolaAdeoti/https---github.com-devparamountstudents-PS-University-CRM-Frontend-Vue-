"use strict";(self["webpackChunkuniversity_crm"]=self["webpackChunkuniversity_crm"]||[]).push([[8557],{3689:function(e,t,i){i.d(t,{Z:function(){return f}});i(7658);var s=i(1937),n=i(5726),o={},a=n.Z.extend({style:o});function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t,i){return t=d(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){var t=p(e,"string");return"symbol"==l(t)?t:String(t)}function p(e,t){if("object"!=l(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=l(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=a.extend("focustrap",{mounted:function(e,t){var i=t.value||{},s=i.disabled;s||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var i=t.value||{},s=i.disabled;s&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(null!==e&&void 0!==e?e:"")},bind:function(e,t){var i=this,n=t.value||{},o=n.onFocusIn,a=n.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver((function(t){t.forEach((function(t){if("childList"===t.type&&!e.contains(document.activeElement)){var n=function t(n){var o=s.p7.isFocusableElement(n)?s.p7.isFocusableElement(n,i.getComputedSelector(e.$_pfocustrap_focusableselector))?n:s.p7.getFirstFocusableElement(e,i.getComputedSelector(e.$_pfocustrap_focusableselector)):s.p7.getFirstFocusableElement(n);return s.gb.isNotEmpty(o)?o:n.nextSibling&&t(n.nextSibling)};s.p7.focus(n(t.nextSibling))}}))})),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(e){return o&&o(e)},e.$_pfocustrap_focusoutlistener=function(e){return a&&a(e)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:c(c({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var i=t.value||{},n=i.autoFocusSelector,o=void 0===n?"":n,a=i.firstFocusableSelector,l=void 0===a?"":a,r=i.autoFocus,c=void 0!==r&&r,u=s.p7.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(o)));c&&!u&&(u=s.p7.getFirstFocusableElement(e,this.getComputedSelector(l))),s.p7.focus(u)},onFirstHiddenElementFocus:function(e){var t,i=e.currentTarget,n=e.relatedTarget,o=n!==i.$_pfocustrap_lasthiddenfocusableelement&&null!==(t=this.$el)&&void 0!==t&&t.contains(n)?i.$_pfocustrap_lasthiddenfocusableelement:s.p7.getFirstFocusableElement(i.parentElement,this.getComputedSelector(i.$_pfocustrap_focusableselector));s.p7.focus(o)},onLastHiddenElementFocus:function(e){var t,i=e.currentTarget,n=e.relatedTarget,o=n!==i.$_pfocustrap_firsthiddenfocusableelement&&null!==(t=this.$el)&&void 0!==t&&t.contains(n)?i.$_pfocustrap_firsthiddenfocusableelement:s.p7.getLastFocusableElement(i.parentElement,this.getComputedSelector(i.$_pfocustrap_focusableselector));s.p7.focus(o)},createHiddenFocusableElements:function(e,t){var i=this,n=t.value||{},o=n.tabIndex,a=void 0===o?0:o,l=n.firstFocusableSelector,r=void 0===l?"":l,c=n.lastFocusableSelector,u=void 0===c?"":c,d=function(e){return s.p7.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:a,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:null===e||void 0===e?void 0:e.bind(i)})},p=d(this.onFirstHiddenElementFocus),f=d(this.onLastHiddenElementFocus);p.$_pfocustrap_lasthiddenfocusableelement=f,p.$_pfocustrap_focusableselector=r,p.setAttribute("data-pc-section","firstfocusableelement"),f.$_pfocustrap_firsthiddenfocusableelement=p,f.$_pfocustrap_focusableselector=u,f.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(p),e.append(f)}}})},8557:function(e,t,i){i.r(t),i.d(t,{default:function(){return _e}});var s=i(3396),n=i(7139);const o={class:"row w-100 mx-auto"},a={class:""},l={class:"col-12 mb-2 d-flex justify-content-between"},r={class:"fw-bold display"},c={class:"col-8"},u={class:"input-group"},d={class:"w-100"},p={type:"button",id:"basic-addon1",style:{},class:"position-relative p-input-icon-left w-100"},f=["src"],h={class:"position-relative"},m={class:"d-flex flex-column w-100",style:{"background-color":"sea"}},b=(0,s._)("i",{class:"mx-4 pi pi-pencil"},null,-1),v=(0,s._)("i",{class:"mx-4 pi pi-comments"},null,-1),y=(0,s._)("i",{class:"mx-4 pi pi-star"},null,-1),g=(0,s._)("i",{class:"mx-4 pi pi-bookmark"},null,-1),w=(0,s._)("i",{class:"mx-4 pi pi-envelope"},null,-1),x=(0,s._)("hr",{class:"mt-1"},null,-1),_={href:"#",style:{"margin-bottom":"1rem",height:"75px",color:"unset"},class:"d-flex w-100 align-items-center chatListItem filterable"},k={class:"w-100"},C={name:"slide-fade"},L={key:0,style:{position:"absolute","z-index":"1",right:"0"}},A={class:"tracking-container",style:{"border-radius":"5px",border:"0.5px solid #8a8d93","background-color":"#ffff",width:"fit-content",display:"flex","flex-direction":"column","text-align":"left",position:"relative","box-shadow":"0px 4px 8px 0px #00000040",right:"55px",bottom:"30px"}},S={class:"fw-light btn",style:{width:"fit-content","font-size":"12px",color:"#4d5056"}},D={class:"fw-light btn",style:{width:"fit-content","font-size":"12px",color:"#4d5056"}},E={class:"fw-light btn",style:{width:"fit-content","font-size":"12px",color:"#4d5056"}},$={class:"align-items-center d-flex justify-content-between align-items-center"},I=["onClick"],F=["src"],B=(0,s._)("span",{style:{position:"absolute",top:"-5px",right:"-5px",width:"10px",height:"10px","border-radius":"50%","background-color":"{{ chat?.isOnline ? 'green' : 'grey' }}"}},null,-1),z=["onClick"],j={class:"row"},M={class:"text-secondary p-0",style:{"white-space":"nowrap"}},T={style:{color:"#1d2939","font-weight":"600","font-sizie":"20px"},class:"text-dark"},O=["innerHTML"],V={style:{display:"flex","flex-basis":"min-content"},class:"text-secondary p-0 track-cell col-2"},Z={class:"d-flex justify-content-between me-3"},H={style:{"margin-right":"5px"}},P=["onClick"],U=(0,s._)("div",{style:{background:"#bbb",height:"1px",width:"100%"}},null,-1);function W(e,t,W,K,N,q){const R=(0,s.up)("InputText"),G=(0,s.up)("router-link"),J=(0,s.up)("Sidebar"),Q=(0,s.up)("svg-icon");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",a,[(0,s._)("div",l,[(0,s._)("div",null,[(0,s._)("h3",r,(0,n.zw)(q.chatsTitle),1)]),(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("div",d,[(0,s._)("span",p,[(0,s._)("img",{style:{width:"1.5rem"},class:"position-absolute mx-2 top-0 my-auto bottom-0",src:i(9819),alt:""},null,8,f),(0,s.Wm)(R,{"aria-label":"Search","aria-describedby":"basic-addon1",modelValue:N.search,"onUpdate:modelValue":t[0]||(t[0]=e=>N.search=e),modelModifiers:{trim:!0},type:"text",placeholder:"Search"},null,8,["modelValue"])])])])]),(0,s._)("div",h,[(0,s._)("i",{style:{cursor:"pointer"},class:"pi pi-bars fs-4",onClick:t[1]||(t[1]=e=>q.showDetails1())}),(0,s.Wm)(J,{style:{height:"80vh","align-self":"flex-end","border-radius":"10px","align-items":"flex-start"},position:"right",visible:N.trackDetails1,"onUpdate:visible":t[7]||(t[7]=e=>N.trackDetails1=e),class:"p-sidebar-sm","show-close-icon":!0},{default:(0,s.w5)((()=>[(0,s._)("ul",m,[(0,s.Wm)(G,{to:"/chats/newmessage",onClick:t[2]||(t[2]=e=>q.showDetails1()),style:{"font-size":"18px !important",display:"flex","justify-content":"flex-start","align-items":"center"},class:"fw-light btn"},{default:(0,s.w5)((()=>[b,(0,s.Uk)(" Create New Messages ")])),_:1}),(0,s.Wm)(G,{to:"/chats",onClick:t[3]||(t[3]=e=>q.showDetails1()),style:{"font-size":"18px !important",display:"flex","justify-content":"flex-start","align-items":"center"},class:"fw-light btn"},{default:(0,s.w5)((()=>[v,(0,s.Uk)(" All Messages ")])),_:1}),(0,s.Wm)(G,{to:"/chats/inbox#favourites",onClick:t[4]||(t[4]=e=>q.showDetails1()),style:{"font-size":"18px !important",display:"flex","justify-content":"flex-start","align-items":"center"},class:"fw-light btn"},{default:(0,s.w5)((()=>[y,(0,s.Uk)(" Favourite Messages ")])),_:1}),(0,s.Wm)(G,{to:"/chats/inbox#archived",onClick:t[5]||(t[5]=e=>q.showDetails1()),style:{"font-size":"18px !important",display:"flex","justify-content":"flex-start","align-items":"flex-start"},class:"fw-light btn"},{default:(0,s.w5)((()=>[g,(0,s.Uk)(" Archived Messages ")])),_:1}),(0,s.Wm)(G,{to:"/chats/inbox/#unread",onClick:t[6]||(t[6]=e=>q.showDetails1()),style:{"font-size":"18px !important",display:"flex","justify-content":"flex-start","align-items":"center"},class:"fw-light btn"},{default:(0,s.w5)((()=>[w,(0,s.Uk)(" Unread Messages ")])),_:1})])])),_:1},8,["visible"])])])]),x,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.filteredChats,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("a",_,[(0,s._)("div",k,[(0,s._)("div",C,[N.trackDetails2===e.sender_id+t?((0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("ul",A,[(0,s._)("li",S,[(0,s.Wm)(Q,{style:{"margin-right":"10px"},type:"mdi",path:N.deleteIconPath},null,8,["path"]),(0,s.Uk)(" Delete ")]),(0,s._)("li",D,[(0,s.Wm)(Q,{style:{"margin-right":"10px"},type:"mdi",path:N.unreadIconPath},null,8,["path"]),(0,s.Uk)(" Unread ")]),(0,s._)("li",E,[(0,s.Wm)(Q,{style:{"margin-right":"10px"},type:"mdi",path:N.archiveIconPath},null,8,["path"]),(0,s.Uk)(" Archive ")])])])):(0,s.kq)("",!0)]),(0,s._)("div",$,[(0,s._)("div",{onClick:t=>q.navigateToChatDetails(e),class:"position-relative"},[(0,s._)("img",{style:{width:"50px",height:"50px","border-radius":"50px"},class:"",src:e.photo_url?e.photo_url:i(1122),alt:""},null,8,F),B],8,I),(0,s._)("div",{onClick:t=>q.navigateToChatDetails(e),class:"align-items-center d-flex ms-4",style:{flex:"auto"}},[(0,s._)("div",j,[(0,s._)("div",M,[(0,s._)("span",T,(0,n.zw)(e.full_name||e.name)+" ("+(0,n.zw)("user"==e.user_type?"student":e.user_type)+") ",1),(0,s._)("p",{style:{color:"#546075"},innerHTML:e.message,class:"text-dark mb-0"},null,8,O)])])],8,z),(0,s._)("div",V,[(0,s._)("div",Z,[(0,s._)("span",H,(0,n.zw)(q.formatDateTime(e.created_at)),1),(0,s._)("i",{style:{cursor:"pointer"},class:(0,n.C_)(e?.isFav?"pi pi-star-fill text-warning fs-6":"pi pi-star fs-6")},null,2)]),(0,s._)("i",{onClick:i=>q.showDetails2(e.sender_id+t),class:"pi pi-ellipsis-v fs-6",style:{width:"fit-content",cursor:"pointer"}},null,8,P)])])])]),U])))),128))])}i(7658);var K=i(7841),N=i(3689),q=i(5810),R=i(3059),G=i(8640),J=i(1937),Q=i(56),Y=i(7778),X={mask:function(e){var t=e.position;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:"left"===t?"flex-start":"right"===t?"flex-end":"center",alignItems:"top"===t?"flex-start":"bottom"===t?"flex-end":"center"}}},ee={mask:function(e){var t=e.instance,i=e.props,s=["left","right","top","bottom"],n=s.find((function(e){return e===i.position}));return["p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":i.modal,"p-sidebar-mask-scrollblocker":i.blockScroll,"p-sidebar-visible":t.containerVisible,"p-sidebar-full":t.fullScreen},n?"p-sidebar-".concat(n):""]},root:function(e){var t=e.instance;return["p-sidebar p-component",{"p-ripple-disabled":!1===t.$primevue.config.ripple,"p-sidebar-full":t.fullScreen}]},header:"p-sidebar-header",title:"p-sidebar-header-content",closeButton:"p-sidebar-close p-sidebar-icon p-link",closeIcon:"p-sidebar-close-icon",content:"p-sidebar-content"},te=Y.Z.extend({name:"sidebar",classes:ee,inlineStyles:X}),ie=i(9242),se={name:"BaseSidebar",extends:Q.Z,props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},header:{type:null,default:null},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:void 0},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},style:te,provide:function(){return{$parentInstance:this}}},ne={name:"Sidebar",extends:se,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],data:function(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,documentKeydownListener:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&J.P9.clear(this.mask),this.container=null,this.mask=null},methods:{hide:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.focus(),this.bindDocumentKeyDownListener(),this.autoZIndex&&J.P9.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.enableDocumentSettings()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&J.p7.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(){this.autoZIndex&&J.P9.clear(this.mask),this.unbindDocumentKeyDownListener(),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick:function(e){this.dismissable&&this.modal&&this.mask===e.target&&this.hide()},focus:function(){var e=function(e){return e&&e.querySelector("[autofocus]")},t=this.$slots.header&&e(this.headerContainer);t||(t=this.$slots["default"]&&e(this.container),t||(t=this.closeButton)),t&&J.p7.focus(t)},enableDocumentSettings:function(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&J.p7.blockBodyScroll()},disableDocumentSettings:function(){this.unbindOutsideClickListener(),this.blockScroll&&J.p7.unblockBodyScroll()},onKeydown:function(e){"Escape"===e.code&&this.hide()},containerRef:function(e){this.container=e},maskRef:function(e){this.mask=e},contentRef:function(e){this.content=e},headerContainerRef:function(e){this.headerContainer=e},closeButtonRef:function(e){this.closeButton=e},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeydown,document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.isOutsideClicked(t)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked:function(e){return this.container&&!this.container.contains(e.target)}},computed:{fullScreen:function(){return"full"===this.position},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:N.Z,ripple:G.Z},components:{Portal:R.Z,TimesIcon:q.Z}},oe=["aria-modal"],ae=["aria-label"];function le(e,t,i,o,a,l){var r=(0,s.up)("Portal"),c=(0,s.Q2)("ripple"),u=(0,s.Q2)("focustrap");return(0,s.wg)(),(0,s.j4)(r,null,{default:(0,s.w5)((function(){return[a.containerVisible?((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({key:0,ref:l.maskRef,onMousedown:t[1]||(t[1]=function(){return l.onMaskClick&&l.onMaskClick.apply(l,arguments)}),class:e.cx("mask"),style:e.sx("mask",!0,{position:e.position})},e.ptm("mask")),[(0,s.Wm)(ie.uT,(0,s.dG)({name:"p-sidebar",onEnter:l.onEnter,onAfterEnter:l.onAfterEnter,onBeforeLeave:l.onBeforeLeave,onLeave:l.onLeave,onAfterLeave:l.onAfterLeave,appear:""},e.ptm("transition")),{default:(0,s.w5)((function(){return[e.visible?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({key:0,ref:l.containerRef,class:e.cx("root"),role:"complementary","aria-modal":e.modal},e.ptmi("root")),[e.$slots.container?(0,s.WI)(e.$slots,"container",{key:0,onClose:l.hide,closeCallback:l.hide}):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",(0,s.dG)({ref:l.headerContainerRef,class:e.cx("header")},e.ptm("header")),[(0,s.WI)(e.$slots,"header",{class:(0,n.C_)(e.cx("title"))},(function(){return[e.header?((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({key:0,class:e.cx("title")},e.ptm("title")),(0,n.zw)(e.header),17)):(0,s.kq)("",!0)]})),e.showCloseIcon?(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",(0,s.dG)({key:0,ref:l.closeButtonRef,type:"button",class:e.cx("closeButton"),"aria-label":l.closeAriaLabel,onClick:t[0]||(t[0]=function(){return l.hide&&l.hide.apply(l,arguments)})},e.ptm("closeButton"),{"data-pc-group-section":"iconcontainer"}),[(0,s.WI)(e.$slots,"closeicon",{class:(0,n.C_)(e.cx("closeIcon"))},(function(){return[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.closeIcon?"span":"TimesIcon"),(0,s.dG)({class:[e.cx("closeIcon"),e.closeIcon]},e.ptm("closeIcon")),null,16,["class"]))]}))],16,ae)),[[c]]):(0,s.kq)("",!0)],16),(0,s._)("div",(0,s.dG)({ref:l.contentRef,class:e.cx("content")},e.ptm("content")),[(0,s.WI)(e.$slots,"default")],16)],64))],16,oe)),[[u]]):(0,s.kq)("",!0)]})),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):(0,s.kq)("",!0)]})),_:3})}ne.render=le;const re=["width","height","viewBox"],ce=["d"];function ue(e,t,i,o,a,l){return(0,s.wg)(),(0,s.iD)("svg",{width:l.sizeValue,height:l.sizeValue,viewBox:l.viewboxValue,style:(0,n.j5)(l.styles)},[(0,s._)("path",{d:i.path},null,8,ce)],12,re)}const de={mdi:{size:24,viewbox:"0 0 24 24"},"simple-icons":{size:24,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}};var pe={name:"icon",props:{type:String,path:{type:String,required:!0},size:{type:[String,Number],default:24},viewbox:String,flip:{type:String,validator:e=>["horizontal","vertical","both","none"].includes(e)},rotate:{type:Number,default:0}},computed:{styles(){return{"--sx":["both","horizontal"].includes(this.flip)?"-1":"1","--sy":["both","vertical"].includes(this.flip)?"-1":"1","--r":isNaN(this.rotate)?this.rotate:this.rotate+"deg"}},defaults(){return de[this.type]||de.default},sizeValue(){return this.size||this.defaults.size},viewboxValue(){return this.viewbox||this.defaults.viewbox}}},fe=i(89);const he=(0,fe.Z)(pe,[["render",ue],["__scopeId","data-v-8dea8908"]]);var me=he,be="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",ve="M18.84,7H16.22L10.5,4L4,7.41V17A2,2 0 0,1 2,15V7.17C2,6.5 2.28,6.06 2.81,5.81L10.5,2L18.05,5.81C18.5,6.09 18.78,6.5 18.84,7M7,8H20A2,2 0 0,1 22,10V19A2,2 0 0,1 20,21H7A2,2 0 0,1 5,19V10A2,2 0 0,1 7,8M20,11.67V10L13.5,13.31L7,10V11.67L13.5,15L20,11.67Z",ye="M5.12,5L5.93,4H17.93L18.87,5M12,17.5L6.5,12H10V10H14V12H17.5L12,17.5M20.54,5.23L19.15,3.55C18.88,3.21 18.47,3 18,3H6C5.53,3 5.12,3.21 4.84,3.55L3.46,5.23C3.17,5.57 3,6 3,6.5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V6.5C21,6 20.83,5.57 20.54,5.23Z",ge=i(708),we={name:"ChatsMessage",data(){return{search:"",chats:[],trackDetails2:!1,trackDetails1:!1,unreadIconPath:ve,archiveIconPath:ye,deleteIconPath:be}},mounted(){this.showChats()},watch:{"$globals.chats":function(e,t){this.chats=e,this.initContact(this.chats)}},components:{InputText:K.Z,Sidebar:ne,SvgIcon:me},async created(){this.initContact,this.chats=this.$globals.chats},methods:{initContact(e){e.forEach((e=>{window.Echo.join(`go-online.${e.user_type}-${e.sender_id}`)}))},navigateToChatDetails(e){localStorage.setItem("chatInfo",JSON.stringify(e)),localStorage.setItem("chats",JSON.stringify(this.filteredChats)),this.$router.push({name:"ChatDetails"})},filter(e){var t=e.target,i=t.value.toLowerCase(),s=document.querySelectorAll(".filterable");for(let n=0;n<s.length;n++)console.log(s[n].innerText.toLowerCase().includes(i)),s[n].innerText.toLowerCase().includes(i)?(s[n].style.display="flex",s[n].style.setProperty("display","flex","important")):(s[n].style.display="none",s[n].style.setProperty("display","none","important"))},formatDateTime(e){if(!e)return"Empty";const t=new Date(e),i=new Date;if(t.toDateString()===i.toDateString()){let e=t.getHours(),i=t.getMinutes(),s="AM";return e>=12&&(s="PM",e>12&&(e-=12)),i<10&&(i="0"+i),e+":"+i+" "+s}{const e=t.getDate(),i=t.getMonth()+1,s=t.getFullYear();return e+"/"+i+"/"+s}},showDetails2(e){this.trackDetails2===e?this.trackDetails2="":(this.trackDetails2=e,setTimeout((()=>{this.trackDetails2=""}),3e3))},showDetails1(){console.log(this.trackDetails1),this.trackDetails1=!this.trackDetails1},splittedUserName(e){if(this.search.length>0){let t=e.toLowerCase().lastIndexOf(this.search.toLowerCase());console.log(t);let i=e.split(""),s=t<=0?"":i.slice(0,t).join(""),n=i.slice(t+this.search.length).join("");return console.log("before: "+s+", search: "+this.search+", after: "+n),{before:s,matched:this.search,after:n}}return{before:e}},async showChats(){const e=await(0,ge.U2)("chat",!0);this.chats=e.message.chats}},computed:{filteredChats(){return this.search.trim().length>0?this.chats.filter((e=>e.sender_email.toLowerCase().includes(this.search.toLowerCase()))):"/chats/inbox#unread"==this.$route.fullPath?this.chats.filter((e=>1==e.isRead)):"/chats/inbox#archived"==this.$route.fullPath?this.chats.filter((e=>1==e.isArchived)):"/chats/inbox#favourites"==this.$route.fullPath?this.chats.filter((e=>1==e.isFav)):this.chats},chatsTitle(){return"#archived"===this.$route.hash?"Archived":"#favourites"===this.$route.hash?"Favourites":"#unread"===this.$route.hash?"Unread":"Chats"}}};const xe=(0,fe.Z)(we,[["render",W]]);var _e=xe},1122:function(e,t,i){e.exports=i.p+"img/user1.e7d5ddce.svg"},9819:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF6SURBVHgBpVJBTsJQEJ35ra65gXgDbyBdKyZeAOyuxEXxCJ7AsjBiYgKYuJZoWLfewCNwBPa0M8780oTAbyM6STOvf+a/vnlThK14mrx30PdjZuggQIsBVoiQcZ6PBuF1Bg2BFXh+/XhgwGF9KydR7+qurmq2SUTJSp57LvLTqNdFzfZdzuWbw7H01Sqy43h+qs1EJrgNL753mx4nizNjKJUxW1xAMAi72Z4i4x3HGzxykWiU5zQqb7BzfENMHYson0JTENm6QTx3EqlcBbKVZRNPVZdNtpxEpZEAL2+LkyYi8bKtWda8chIZNJmCdZ6HTUTG9/uaifnLWaeiNFEIY92Oq0nPiaE0mTBx9dgfcjz7TATFVjZCQnk+U090HFWiJGi9wWnUuwxribbJoDZwKlbfSF5ysQ52l2MqEPW7Q/3ZBM6rBWzyXM+tEma5zG30jtLK/D1Fvwm9jMZLAbG9q+wgoiayg4nqyAz8IVQBUxFYzxj+H6qsMv0Hcp7ItGSEkJ0AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=8557.7b0d7523.js.map