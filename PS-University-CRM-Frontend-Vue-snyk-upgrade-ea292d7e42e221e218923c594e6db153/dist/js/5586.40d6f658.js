"use strict";(self["webpackChunkuniversity_crm"]=self["webpackChunkuniversity_crm"]||[]).push([[5586],{5359:function(e,s,t){t.d(s,{Z:function(){return x}});var a=t(3396),o=t(7139);const i={class:"div"},l={class:"modal fade",id:"exampleModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},n={class:"modal-dialog modal-dialog-centered"},r={class:"modal-content"},d=(0,a._)("div",{class:"modal-header"},[(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),c={class:"modal-body mx-auto text-center py-5"},u={class:"mx-auto py-2"},p=["src"],m={class:"pt-3 pb-1"},b={class:"px-5 mx-3"};function h(e,s,h,v,_,f){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a._)("div",n,[(0,a._)("div",r,[d,(0,a._)("div",c,[(0,a._)("div",u,[(0,a._)("img",{src:t(990)(`./${h.img}`),alt:"",srcset:""},null,8,p)]),(0,a._)("h2",m,(0,o.zw)(h.head),1),(0,a._)("p",b,(0,o.zw)(h.subText),1),(0,a._)("p",{onClick:s[0]||(s[0]=(...e)=>f.home&&f.home(...e)),"data-bs-dismiss":"modal","aria-label":"Close",class:"cursor text-blue"},(0,o.zw)(h.click),1)])])])])])])}t(7658);var v={props:["head","img","subText","url","click"],methods:{home(){this.$router.push(this.url)}}},_=t(89);const f=(0,_.Z)(v,[["render",h]]);var x=f},3697:function(e,s,t){t.d(s,{Z:function(){return x}});var a=t(3396),o=t(7139);const i={class:"div"},l={class:"modal fade show",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},n={class:"modal-dialog modal-dialog-centered"},r={class:"modal-content"},d=(0,a._)("div",{class:"modal-header"},[(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),c={class:"modal-body mx-auto text-center pb-5 pt-1 px-5"},u={class:"mx-auto py-2"},p=["src"],m={class:"pt-3 fs-30 text-capitalize"},b={class:"px-4 grey"};function h(e,s,h,v,_,f){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a._)("div",n,[(0,a._)("div",r,[d,(0,a._)("div",c,[(0,a._)("div",u,[(0,a._)("img",{src:t(990)(`./${h.img}`),alt:"",srcset:""},null,8,p)]),(0,a._)("h1",m,(0,o.zw)(h.head),1),(0,a._)("p",b,(0,o.zw)(h.subText),1)])])])])])])}var v={props:["head","img","subText"]},_=t(89);const f=(0,_.Z)(v,[["render",h]]);var x=f},5586:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var a=t(3396),o=t(9242);const i={class:"container"},l={class:"verify-otp"},n={class:"col-lg-6 mx-auto"},r={class:"mx-auto py-2"},d=["src"],c=(0,a._)("div",{class:"text-"},[(0,a._)("h2",null,"Please Verify OTP code"),(0,a._)("p",null,"The OTP code has been sent to your registered email address.")],-1),u={class:"d-flex justify-content-center otp-box mx-2"},p={class:"col-7 pt-3"},m=(0,a._)("button",{type:"submit",class:"btn primary-btn col-12 py-2 px-5"}," Verify OTP Code ",-1),b={ref:"modalSuccess",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",style:{display:"none"}},h={class:"pt-3"},v={class:"px-2"},_=["src"];function f(e,s,f,x,g,y){const w=(0,a.up)("RequestLoader"),k=(0,a.up)("ModalResend"),T=(0,a.up)("ModalSuccessfull"),O=(0,a.up)("v-otp-input");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(w),(0,a.wy)((0,a._)("div",null,[(0,a.Wm)(k,{head:g.otpSent.head,img:g.otpSent.img,subText:g.otpSent.subText},null,8,["head","img","subText"]),(0,a.Wm)(T,{head:g.otpVerify.head,img:g.otpVerify.img,subText:g.otpVerify.subText},null,8,["head","img","subText"])],512),[[o.F8,g.show]]),(0,a._)("div",l,[(0,a._)("div",n,[(0,a._)("div",r,[(0,a._)("img",{src:t(8378),alt:"",srcset:""},null,8,d)]),c,(0,a._)("form",{class:"row g-3 pt-3 position-relative justify-content-center",onSubmit:s[2]||(s[2]=(0,o.iM)(((...e)=>y.verifyOtp&&y.verifyOtp(...e)),["prevent"]))},[(0,a._)("div",u,[(0,a.Wm)(O,{ref:"otpInput","input-classes":"otp-input",separator:"","num-inputs":4,"should-auto-focus":!0,"is-input-num":!0,onOnComplete:y.handleOnComplete},null,8,["onOnComplete"])]),(0,a._)("div",p,[m,(0,a._)("button",b,null,512)]),(0,a._)("p",h,[(0,a.Uk)(" Didnâ€™t receive the email? "),(0,a._)("span",{class:"text-blue cursor",onClick:s[0]||(s[0]=(...e)=>y.resendOtp&&y.resendOtp(...e))},"Click to resend")]),(0,a._)("h6",{onClick:s[1]||(s[1]=e=>y.home()),class:"cursor"},[(0,a._)("span",v,[(0,a._)("img",{src:t(4210),alt:""},null,8,_)]),(0,a.Uk)(" Back to log in ")])],32)])])])}t(7658);var x=t(3697),g=t(5359),y=t(708),w=t(8895),k=t(9865),T=t(5220),O=t(2492),C=t.n(O),S=t(8308),P=t(9183),M={components:{ModalResend:x.Z,ModalSuccessfull:g.Z},data(){return{otp:"",otpSent:{head:"OTP Sent",img:"sent-success-icon.svg",subText:"Your verified emailaddress has received an OTP code."},show:!0,otpVerify:{head:"OTP verified",img:"otp-successfull.svg",subText:"Your OTP code has been verified."}}},methods:{async resendOtp(){const e=(0,k.t)();let s=await(0,y.v_)("api/resend_otp",{platform:"university",unique_id:e.userId,password:e.password},!1);console.log(s,3232323),s&&(0,w.K)({text:s.message})},home(){this.$router.push("/")},handleOnComplete(e){this.otp=e},verifyOtp(){const e=(0,k.t)();(0,y.v_)("otp_uv",{otp:this.otp,unique_id:e.userId,password:e.password}).then((s=>{if(e.$state.userInfo=s.user,"success"==s.status){const t=(0,T.L)();t.setUser(s.user),e.setStoreToken(s.authorisation.token),(0,P.Z)(window.baseUrl,s.authorisation.token),(0,S.o4)(s.authorisation.token);const a=C().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",C().stopTimer),e.addEventListener("mouseleave",C().resumeTimer)}});a.fire({icon:"success",title:"Verified successfully"}),this.$router.push("/dashboard")}})).catch((e=>{(0,w.K)({text:e.response.message??"something went wrong"})}))}}},Z=t(89);const V=(0,Z.Z)(M,[["render",f]]);var z=V}}]);
//# sourceMappingURL=5586.40d6f658.js.map